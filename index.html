<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ã‚ãªãŸã®æ‹æ„›ã‚¹ã‚¿ã‚¤ãƒ«è¨ºæ–­</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: "Hiragino Sans", "æ¸¸ã‚´ã‚·ãƒƒã‚¯", system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffe9d2; /* è–„ã„ã‚ªãƒ¬ãƒ³ã‚¸ç³» */
    }
    .wrapper {
      max-width: 840px;
      margin: 0 auto;
      padding: 32px 16px 64px;
    }
    .card {
      background: #fffdf8;
      border-radius: 12px;
      padding: 24px 24px 32px;
      box-shadow: 0 6px 18px rgba(255, 159, 67, 0.22);
      border: 1px solid #ffe0b8;
    }
    h1 {
      text-align: center;
      margin: 0 0 16px;
      font-size: 24px;
      letter-spacing: 0.08em;
      color: #ff8a3c;
    }
    .lead {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    .step-indicator {
      text-align: center;
      font-size: 12px;
      color: #aa7536;
      margin-bottom: 12px;
    }
    .question-page {
      display: none;
    }
    .question-page.active {
      display: block;
    }
    .question {
      margin-bottom: 12px;
      padding: 16px 16px 4px;
      border-radius: 10px;
      background: #fff8f0;
      border: 1px solid #ffd7a3;
    }
    .question-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
      color: #444;
    }
    .options {
      margin-left: 4px;
    }
    .options label {
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    .options input {
      margin-right: 4px;
    }
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-top: 14px;
    }
    .nav-buttons button {
      flex: 1;
      border-radius: 999px;
      border: none;
      padding: 9px 12px;
      font-size: 14px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.04em;
    }
    .prev-btn {
      background: #fff;
      border: 1px solid #ffb36a;
      color: #ff8a3c;
    }
    .next-btn {
      background: #ff8a3c;
      color: #fff;
      box-shadow: 0 3px 10px rgba(255, 138, 60, 0.4);
    }
    .next-btn:hover,
    .prev-btn:hover {
      opacity: 0.92;
    }

    .result-card {
      margin-top: 24px;
      padding: 20px 16px 18px;
      border-radius: 10px;
      background: #fff7ec;
      border: 1px solid #ffd0a0;
      display: none;
    }
    .result-title {
      font-weight: 700;
      margin-bottom: 10px;
      color: #ff8a3c;
      font-size: 16px;
      text-align: center;
    }
    .result-main-score {
      margin-bottom: 8px;
      text-align: center;
    }
    .result-main-label {
      display: block;
      font-size: 13px;
      color: #555;
    }
    .result-main-value {
      display: block;
      margin-top: 4px;
      font-size: 1.3em;
      font-weight: 700;
      color: #e66b1a;
    }
    .type-label-wrap {
      margin: 10px 0 6px;
      text-align: center;
    }
    .type-label-title {
      font-size: 13px;
      color: #555;
      margin-bottom: 2px;
    }
    .type-label-value {
      font-size: 16px;
      font-weight: 700;
      color: #ff8a3c;
    }
    .category-list {
      margin: 10px 0 12px;
      font-size: 13px;
      line-height: 1.7;
    }
    .section-title {
      margin-top: 10px;
      margin-bottom: 4px;
      font-size: 13px;
      font-weight: 700;
      color: #cc6a1c;
    }
    .result-message {
      font-size: 13px;
      line-height: 1.7;
      margin-bottom: 6px;
    }
    .note {
      margin-top: 16px;
      font-size: 11px;
      color: #888;
      text-align: center;
      line-height: 1.6;
    }
    @media (max-width: 600px) {
      .card {
        padding: 18px 14px 26px;
      }
      .question {
        padding: 12px 10px 2px;
      }
      .nav-buttons {
        flex-direction: column;
      }
      .nav-buttons button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="card">
      <h1>ã‚ãªãŸã®æ‹æ„›ã‚¹ã‚¿ã‚¤ãƒ«è¨ºæ–­</h1>
      <p class="lead">
        15å•ã«ç­”ãˆã‚‹ã¨ã€ã‚ãªãŸã®æ‹æ„›ã‚¹ã‚¿ã‚¤ãƒ«ã®å‚¾å‘ã¨ã‚¹ã‚³ã‚¢ã‚’ãƒã‚§ãƒƒã‚¯ã§ãã¾ã™ã€‚<br />
        ï¼ˆAã€œEã®ã©ã‚Œã‹ã‚’1ã¤é¸ã‚“ã§ãã ã•ã„ï¼‰
      </p>

      <div id="stepIndicator" class="step-indicator">
        è³ªå• 1 / 15
      </div>

      <form id="quizForm">
        <div id="questionPages">
          <!-- Q1 -->
          <div class="question-page active" data-step="1">
            <div class="question">
              <div class="question-title">
                1. åˆå¯¾é¢ã®ç•°æ€§ã¨è©±ã™æ™‚ã€ã©ã®ãã‚‰ã„è‡ªç„¶ã«è©±ã›ã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q1" value="5" />ã»ã¼ç·Šå¼µã›ãšä¼šè©±ã§ãã‚‹</label>
                <label><input type="radio" name="q1" value="4" />å°‘ã—ç·Šå¼µã™ã‚‹ãŒæ™®é€šã«è©±ã›ã‚‹</label>
                <label><input type="radio" name="q1" value="3" />ä¼šè©±ã«å›°ã‚‹æ™‚ãŒã‚ã‚‹</label>
                <label><input type="radio" name="q1" value="2" />ã‹ãªã‚Šç·Šå¼µã™ã‚‹</label>
                <label><input type="radio" name="q1" value="1" />ä¼šè©±ãŒã†ã¾ãã§ããªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" disabled>æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="2">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q2 -->
          <div class="question-page" data-step="2">
            <div class="question">
              <div class="question-title">
                2. ç›¸æ‰‹ã®æ°—æŒã¡ã‚„æ„å›³ã‚’ç†è§£ã—ã‚ˆã†ã¨ã™ã‚‹å§¿å‹¢ã¯ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q2" value="5" />ã„ã¤ã‚‚æ„è­˜ã—ã¦ã„ã‚‹</label>
                <label><input type="radio" name="q2" value="4" />ã‘ã£ã“ã†æ„è­˜ã—ã¦ã„ã‚‹</label>
                <label><input type="radio" name="q2" value="3" />ã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„</label>
                <label><input type="radio" name="q2" value="2" />ã‚ã¾ã‚Šæ„è­˜ã—ãªã„</label>
                <label><input type="radio" name="q2" value="1" />ã»ã¼æ„è­˜ã—ãªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="1">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="3">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q3 -->
          <div class="question-page" data-step="3">
            <div class="question">
              <div class="question-title">
                3. æ°—æŒã¡ã‚„æ€ã£ã¦ã„ã‚‹ã“ã¨ã‚’ã€ç›¸æ‰‹ã«ã‚ã‹ã‚‹ã‚ˆã†ã«ä¼ãˆã‚‹ã®ã¯å¾—æ„ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q3" value="5" />ã¨ã¦ã‚‚å¾—æ„</label>
                <label><input type="radio" name="q3" value="4" />ã‘ã£ã“ã†å¾—æ„</label>
                <label><input type="radio" name="q3" value="3" />ã¨ãã©ãé›£ã—ã„</label>
                <label><input type="radio" name="q3" value="2" />ã‚ã¾ã‚Šå¾—æ„ã˜ã‚ƒãªã„</label>
                <label><input type="radio" name="q3" value="1" />ã‹ãªã‚Šè‹¦æ‰‹</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="2">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="4">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q4 -->
          <div class="question-page" data-step="4">
            <div class="question">
              <div class="question-title">
                4. æ‹ã‚’ã™ã‚‹ã¨ã€ã‚ãªãŸã¯è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’ä¿ã¦ã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q4" value="5" />ã—ã£ã‹ã‚Šä¿ã¦ã‚‹</label>
                <label><input type="radio" name="q4" value="4" />ã»ã¼ä¿ã¦ã‚‹</label>
                <label><input type="radio" name="q4" value="3" />æºã‚‰ãã“ã¨ãŒã‚ã‚‹</label>
                <label><input type="radio" name="q4" value="2" />ç›¸æ‰‹ä¸­å¿ƒã«ãªã‚Šã™ãã‚‹ã“ã¨ãŒå¤šã„</label>
                <label><input type="radio" name="q4" value="1" />ã„ã¤ã‚‚ç›¸æ‰‹ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="3">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="5">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q5 -->
          <div class="question-page" data-step="5">
            <div class="question">
              <div class="question-title">
                5. å¥½ããªäººã¨ã®è·é›¢æ„Ÿã‚’ã¤ã‹ã‚€ã®ã¯å¾—æ„ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q5" value="5" />ã‹ãªã‚Šå¾—æ„</label>
                <label><input type="radio" name="q5" value="4" />ã ã„ãŸã„å¾—æ„</label>
                <label><input type="radio" name="q5" value="3" />ã¨ãã©ãè¿·ã†</label>
                <label><input type="radio" name="q5" value="2" />ã†ã¾ãè·é›¢ãŒå–ã‚Œãªã„ã“ã¨ãŒå¤šã„</label>
                <label><input type="radio" name="q5" value="1" />ã»ã¼ã„ã¤ã‚‚è·é›¢æ„Ÿã‚’é–“é•ãˆã‚‹</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="4">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="6">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q6 -->
          <div class="question-page" data-step="6">
            <div class="question">
              <div class="question-title">
                6. ã‚ãªãŸã¯ã€ç›¸æ‰‹ã®æœ¬è³ªã‚„æ€§æ ¼ã‚’è¦‹æŠœãã®ãŒå¾—æ„ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q6" value="5" />ã‹ãªã‚Šå¾—æ„</label>
                <label><input type="radio" name="q6" value="4" />ã ã„ãŸã„åˆã£ã¦ã„ã‚‹</label>
                <label><input type="radio" name="q6" value="3" />ã¾ã‚ã¾ã‚å½“ãŸã‚‹</label>
                <label><input type="radio" name="q6" value="2" />ã‘ã£ã“ã†é–“é•ãˆã‚‹ã“ã¨ãŒå¤šã„</label>
                <label><input type="radio" name="q6" value="1" />ã‚ˆãè¦‹èª¤ã‚‹</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="5">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="7">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q7 -->
          <div class="question-page" data-step="7">
            <div class="question">
              <div class="question-title">
                7. ç›¸æ‰‹ã«åˆã‚ã›ã™ããšã€è‡ªåˆ†ã®æ„è¦‹ã‚„å¸Œæœ›ã‚’è¨€ãˆã‚‹æ–¹ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q7" value="5" />ã—ã£ã‹ã‚Šè¨€ãˆã‚‹</label>
                <label><input type="radio" name="q7" value="4" />ã ã„ãŸã„è¨€ãˆã‚‹</label>
                <label><input type="radio" name="q7" value="3" />ã¨ãã©ãæˆ‘æ…¢ã—ã¦ã—ã¾ã†</label>
                <label><input type="radio" name="q7" value="2" />ã‘ã£ã“ã†è¨€ãˆãªã„ã“ã¨ãŒå¤šã„</label>
                <label><input type="radio" name="q7" value="1" />ã»ã¨ã‚“ã©è¨€ãˆãªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="6">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="8">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q8 -->
          <div class="question-page" data-step="8">
            <div class="question">
              <div class="question-title">
                8. ç›¸æ‰‹ã®æ°—æŒã¡ã‚„ç«‹å ´ã‚’æ€ã„ã‚„ã£ã¦è¡Œå‹•ã§ãã‚‹æ–¹ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q8" value="5" />ã‹ãªã‚Šã§ãã‚‹</label>
                <label><input type="radio" name="q8" value="4" />ã ã„ãŸã„ã§ãã‚‹</label>
                <label><input type="radio" name="q8" value="3" />ã¨ãã©ãã§ãã‚‹</label>
                <label><input type="radio" name="q8" value="2" />ã‚ã¾ã‚Šã§ããªã„</label>
                <label><input type="radio" name="q8" value="1" />ã»ã¨ã‚“ã©ã§ããªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="7">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="9">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q9 -->
          <div class="question-page" data-step="9">
            <div class="question">
              <div class="question-title">
                9. è‡ªåˆ†ã®æ„Ÿæƒ…ã‚„æ°—æŒã¡ã«ã€ã¡ã‚ƒã‚“ã¨æ°—ã¥ã‘ã‚‹æ–¹ã§ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q9" value="5" />ã„ã¤ã‚‚æ°—ã¥ã‘ã‚‹</label>
                <label><input type="radio" name="q9" value="4" />ã ã„ãŸã„æ°—ã¥ã‘ã‚‹</label>
                <label><input type="radio" name="q9" value="3" />ã¨ãã©ãæ··ä¹±ã™ã‚‹</label>
                <label><input type="radio" name="q9" value="2" />è‡ªåˆ†ã®æ°—æŒã¡ãŒã‚ˆãã‚ã‹ã‚‰ãªã„</label>
                <label><input type="radio" name="q9" value="1" />ã»ã¨ã‚“ã©æ°—ã¥ã‘ãªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="8">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="10">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q10 -->
          <div class="question-page" data-step="10">
            <div class="question">
              <div class="question-title">
                10. æ°—ã«ãªã‚‹äººã«å¯¾ã—ã¦ã€ç›¸æ‰‹ã®ãƒ†ãƒ³ãƒã«åˆã‚ã›ã¦é€²ã‚ã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q10" value="5" />ã‹ãªã‚Šåˆã‚ã›ã‚‰ã‚Œã‚‹</label>
                <label><input type="radio" name="q10" value="4" />ã ã„ãŸã„åˆã‚ã›ã‚‰ã‚Œã‚‹</label>
                <label><input type="radio" name="q10" value="3" />ãŸã¾ã«ã‚ºãƒ¬ã‚‹</label>
                <label><input type="radio" name="q10" value="2" />ã‘ã£ã“ã†ã‚ºãƒ¬ã‚‹</label>
                <label><input type="radio" name="q10" value="1" />ã»ã¼ã‚ºãƒ¬ã£ã±ãªã—</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="9">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="11">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q11 -->
          <div class="question-page" data-step="11">
            <div class="question">
              <div class="question-title">
                11. æ‹æ„›ã§æœŸå¾…ã—ã™ããšã€ç¾å®Ÿçš„ã«ç›¸æ‰‹ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q11" value="5" />ã‹ãªã‚Šã§ãã‚‹</label>
                <label><input type="radio" name="q11" value="4" />ã ã„ãŸã„ã§ãã‚‹</label>
                <label><input type="radio" name="q11" value="3" />ã¨ãã©ãç†æƒ³åŒ–ã™ã‚‹</label>
                <label><input type="radio" name="q11" value="2" />ç†æƒ³ã‚’æŠ•å½±ã—ã¦ã—ã¾ã†</label>
                <label><input type="radio" name="q11" value="1" />ã»ã¼ç¾å®ŸãŒè¦‹ãˆãªã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="10">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="12">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q12 -->
          <div class="question-page" data-step="12">
            <div class="question">
              <div class="question-title">
                12. è¦ªã—ã„é–¢ä¿‚ã«ãªã£ã¦ã‚‚ã€ã²ã¨ã‚Šã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã§ãã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q12" value="5" />ã—ã£ã‹ã‚Šã§ãã‚‹</label>
                <label><input type="radio" name="q12" value="4" />ã ã„ãŸã„ã§ãã‚‹</label>
                <label><input type="radio" name="q12" value="3" />ã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„</label>
                <label><input type="radio" name="q12" value="2" />ã²ã¨ã‚Šã§ã„ã‚‹ã®ãŒä¸å®‰</label>
                <label><input type="radio" name="q12" value="1" />ã„ã¤ã‚‚ç›¸æ‰‹ã¨ä¸€ç·’ã«ã„ãŸã„</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="11">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="13">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q13 -->
          <div class="question-page" data-step="13">
            <div class="question">
              <div class="question-title">
                13. æ‹æ„›ã®å¤±æ•—ã‚„çµŒé¨“ã‹ã‚‰å­¦ã³ã‚’æ´»ã‹ã›ã¦ã„ã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q13" value="5" />ã‹ãªã‚Šæ´»ã‹ã›ã¦ã„ã‚‹</label>
                <label><input type="radio" name="q13" value="4" />ã ã„ãŸã„æ´»ã‹ã›ã¦ã„ã‚‹</label>
                <label><input type="radio" name="q13" value="3" />ãŸã¾ã«æ´»ã‹ã™</label>
                <label><input type="radio" name="q13" value="2" />ã‚ã¾ã‚Šæ´»ã‹ã›ã¦ã„ãªã„</label>
                <label><input type="radio" name="q13" value="1" />ã»ã¼åŒã˜å¤±æ•—ã‚’ç¹°ã‚Šè¿”ã™</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="12">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="14">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q14 -->
          <div class="question-page" data-step="14">
            <div class="question">
              <div class="question-title">
                14. ç›¸æ‰‹ã«åˆã‚ã›ã‚‹ã ã‘ã§ãªãã€é–¢ä¿‚ã‚’ä¸€ç·’ã«ä½œã‚‹æ„è­˜ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q14" value="5" />å¼·ãã‚ã‚‹</label>
                <label><input type="radio" name="q14" value="4" />ã‘ã£ã“ã†ã‚ã‚‹</label>
                <label><input type="radio" name="q14" value="3" />ã©ã¡ã‚‰ã¨ã‚‚ã„ãˆãªã„</label>
                <label><input type="radio" name="q14" value="2" />ã‚ã¾ã‚Šãªã„</label>
                <label><input type="radio" name="q14" value="1" />ç›¸æ‰‹ä»»ã›ã«ãªã‚ŠãŒã¡</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="13">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" data-next="15">æ¬¡ã¸</button>
            </div>
          </div>

          <!-- Q15 -->
          <div class="question-page" data-step="15">
            <div class="question">
              <div class="question-title">
                15. ä¿¡é ¼é–¢ä¿‚ãŒã§ãã‚‹ã¾ã§ã€ç„¦ã‚‰ãšã‚†ã£ãã‚Šé€²ã‚ã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ
              </div>
              <div class="options">
                <label><input type="radio" name="q15" value="5" />ã¨ã¦ã‚‚ã§ãã‚‹</label>
                <label><input type="radio" name="q15" value="4" />ã ã„ãŸã„ã§ãã‚‹</label>
                <label><input type="radio" name="q15" value="3" />ã¨ãã©ãç„¦ã‚‹</label>
                <label><input type="radio" name="q15" value="2" />ã‘ã£ã“ã†ç„¦ã‚‹</label>
                <label><input type="radio" name="q15" value="1" />ã„ã¤ã‚‚æ€¥ããŒã¡</label>
              </div>
            </div>
            <div class="nav-buttons">
              <button type="button" class="prev-btn" data-prev="14">æˆ»ã‚‹</button>
              <button type="button" class="next-btn" id="submitBtn">çµæœã‚’è¦‹ã‚‹</button>
            </div>
          </div>
        </div>
      </form>

      <!-- çµæœãƒšãƒ¼ã‚¸ -->
      <div id="result" class="result-card">
        <div class="result-title">è¨ºæ–­çµæœ</div>

        <div class="result-main-score">
          <span class="result-main-label">ğŸ’— ã‚ãªãŸã®æ‹æ„›èƒ½åŠ›æŒ‡æ•°</span>
          <span class="result-main-value" id="mainScoreValue"></span>
        </div>

        <div class="type-label-wrap">
          <div class="type-label-title">ã‚ãªãŸã®æ‹æ„›ã‚¹ã‚¿ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—</div>
          <div class="type-label-value" id="typeLabel"></div>
        </div>

        <div class="category-list" id="categoryScores"></div>

        <div class="section-title">ğŸ“„ ã‚¿ã‚¤ãƒ—è§£èª¬</div>
        <div class="result-message" id="typeMessage"></div>

        <div class="section-title">ğŸ“„ ç·åˆè©•ä¾¡</div>
        <div class="result-message" id="overallComment"></div>
      </div>

      <p class="note">
        â€»ã“ã®è¨ºæ–­ã¯ã‚ãã¾ã§ã‚»ãƒ«ãƒ•ãƒã‚§ãƒƒã‚¯ç”¨ã®ç°¡æ˜“ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br />
        çµæœã‚’çµ¶å¯¾è¦–ã›ãšã€è‡ªåˆ†ã‚’è¦‹ã¤ã‚ç›´ã™ãã£ã‹ã‘ã¨ã—ã¦ã”åˆ©ç”¨ãã ã•ã„ã€‚
      </p>
    </div>
  </div>

  <script>
    // â–¼ è³ªå•ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆ
    const totalSteps = 15;
    let currentStep = 1;

    const pages = document.querySelectorAll(".question-page");
    const stepIndicator = document.getElementById("stepIndicator");
    const quizForm = document.getElementById("quizForm");
    const resultCard = document.getElementById("result");

    function showStep(step) {
      currentStep = step;
      pages.forEach((p) => {
        const s = Number(p.getAttribute("data-step"));
        p.classList.toggle("active", s === step);
      });
      stepIndicator.textContent = "è³ªå• " + step + " / " + totalSteps;
    }

    document.addEventListener("click", function (e) {
      if (e.target.classList.contains("next-btn") && e.target.id !== "submitBtn") {
        const next = Number(e.target.getAttribute("data-next"));
        if (!validateCurrentStep()) return;
        showStep(next);
      }
      if (e.target.classList.contains("prev-btn")) {
        const prev = Number(e.target.getAttribute("data-prev"));
        if (prev >= 1) showStep(prev);
      }
    });

    function validateCurrentStep() {
      const page = document.querySelector(
        '.question-page[data-step="' + currentStep + '"]'
      );
      if (!page) return true;
      const input = page.querySelector("input[type=radio]:checked");
      if (!input) {
        alert("ã“ã®è³ªå•ã«ç­”ãˆã¦ã‹ã‚‰é€²ã‚“ã§ãã ã•ã„ã€‚");
        return false;
      }
      return true;
    }

    function getValue(name) {
      const checked = document.querySelector(
        'input[name="' + name + '"]:checked'
      );
      return checked ? Number(checked.value) : null;
    }

    // â˜… ã‚¹ã‚¿ãƒ¼è¡¨ç¤ºç”¨ï¼šã‚«ãƒ†ã‚´ãƒªã‚¹ã‚³ã‚¢ â†’ â˜…ï¼‹ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆ
    function toStars(score, max) {
      const ratio = score / max;
      let starsCount;
      if (ratio >= 0.85) {
        starsCount = 5;
      } else if (ratio >= 0.7) {
        starsCount = 4;
      } else if (ratio >= 0.5) {
        starsCount = 3;
      } else if (ratio >= 0.3) {
        starsCount = 2;
      } else {
        starsCount = 1;
      }
      const full = "â˜…â˜…â˜…â˜…â˜…".slice(0, starsCount);
      const empty = "â˜†â˜†â˜†â˜†â˜†".slice(0, 5 - starsCount);
      return full + empty;
    }

    function levelComment(score, max) {
      const ratio = score / max;
      if (ratio >= 0.85) return "ã‹ãªã‚Šé«˜ã‚";
      if (ratio >= 0.7) return "é«˜ã‚";
      if (ratio >= 0.5) return "ã‚„ã‚„é«˜ã‚";
      if (ratio >= 0.3) return "ã‚„ã‚„å¼±ã‚";
      return "å¼±ã‚ãƒ»ã“ã‚Œã‹ã‚‰ä¼¸ã°ã›ã‚‹";
    }

    // 8ã‚¿ã‚¤ãƒ—åˆ¤å®š
    function decideType(totalScore, norms) {
      const {
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      } = norms;

      const maxNorm = Math.max(
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      );

      let typeLabel = "";
      let typeMessage = "";

      if (totalScore >= 60) {
        if (
          (empathyN >= 0.7 || distanceN >= 0.7) &&
          empathyN >= distanceN
        ) {
          // â‘  å®‰å®šå…±æ„Ÿãƒãƒ©ãƒ³ã‚¹å‹
          typeLabel = "å®‰å®šå…±æ„Ÿãƒãƒ©ãƒ³ã‚¹å‹";
          typeMessage =
            "ç›¸æ‰‹ã®æ°—æŒã¡ã‚’ä¸å¯§ã«å—ã‘å–ã‚ŠãªãŒã‚‰ã€è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚‚å¤§åˆ‡ã«ã§ãã‚‹å®‰å®šå‹ã€‚é–¢ä¿‚ã‚’æ€¥ãŒãšè‚²ã¦ã‚‹åŠ›ãŒã‚ã‚Šã€ä¿¡é ¼ã‚’æ™‚é–“ã¨ã¨ã‚‚ã«ç©ã¿é‡ã­ã¦ã„ã‘ã¾ã™ã€‚ã‚ãªãŸã®ã€Œè½ã¡ç€ã„ãŸå®‰å¿ƒæ„Ÿã€ã¯ã€ç›¸æ‰‹ã«ã¨ã£ã¦å¤§ããªé­…åŠ›ã«ãªã‚Šã¾ã™ã€‚";
        } else if (selfAxisN === maxNorm) {
          // â‘£ ä¸»ä½“æ€§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–å‹å¯„ã‚Š
          typeLabel = "ä¸»ä½“æ€§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–å‹";
          typeMessage =
            "è‡ªåˆ†ã®æ„æ€ã‚„ãƒ†ãƒ³ãƒã‚’æŒã¡ã€æ‹æ„›ã«ãŠã„ã¦ã‚‚è¡Œå‹•åŠ›ãŒé«˜ã„ã‚¿ã‚¤ãƒ—ã€‚æ±ºæ–­åŠ›ãŒã‚ã‚‹ã®ã§é–¢ä¿‚ãŒé€²ã¿ã‚„ã™ã„åé¢ã€ç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ã‚’å°Šé‡ã§ãã‚‹ã¨ã‚ˆã‚Šç›¸æ€§ãŒå®‰å®šã—ã¾ã™ã€‚ä¸»å°æ¨©ã‚’æ¡ã‚ŠãªãŒã‚‰ã‚‚å”èª¿ã§ãã‚‹ã¨å¼·ã„é–¢ä¿‚ã‚’ç¯‰ã‘ã¾ã™ã€‚";
        } else if (communicationN === maxNorm) {
          // â‘¦ æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹å¯„ã‚Š
          typeLabel = "æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹";
          typeMessage =
            "å¥½ãã«ãªã£ãŸã‚‰ã¾ã£ã™ãå‘ãåˆã„ãŸã„ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§èª å®Ÿãªã‚¿ã‚¤ãƒ—ã€‚æ°—æŒã¡ã‚’ä¼ãˆã‚‹åŠ›ãŒå¼·ãã€ç›¸æ‰‹ã«ã¨ã£ã¦ã‚ã‹ã‚Šã‚„ã™ã„é­…åŠ›ãŒã‚ã‚Šã¾ã™ã€‚å°‘ã—ã ã‘ç›¸æ‰‹ã®ãƒšãƒ¼ã‚¹ã‚’æ„Ÿã˜å–ã‚Œã‚‹ã¨ã€ã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºãªé–¢ä¿‚ã«ã€‚";
        } else if (selfUnderstandingN === maxNorm) {
          // â‘¥ è‡ªå·±ç†è§£ã‚¯ãƒªã‚¢å‹
          typeLabel = "è‡ªå·±ç†è§£ã‚¯ãƒªã‚¢å‹";
          typeMessage =
            "è‡ªåˆ†ã®æ„Ÿæƒ…ãƒ»ä¾¡å€¤è¦³ã«æ•æ„Ÿã§ã€ã€Œã©ã†ã—ãŸã„ã‹ã€ã‚’ã¯ã£ãã‚Šç†è§£ã§ãã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ‹æ„›ã§ã‚‚è¿·ã„ãŒå°‘ãªãã€èª å®Ÿã§é€æ˜åº¦ã®é«˜ã„é–¢ä¿‚ã‚’è‚²ã¦ã‚‰ã‚Œã¾ã™ã€‚ç›¸æ‰‹ã«ãã®â€œå†…é¢çš„ãªæ˜ã‚‹ã•â€ãŒè‡ªç„¶ã¨ä¼ã‚ã‚Šã€å®‰å¿ƒæ„Ÿã‚’ç”Ÿã¿ã¾ã™ã€‚";
        } else {
          // â‘¤ è·é›¢æ„Ÿã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆå‹
          typeLabel = "è·é›¢æ„Ÿã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆå‹";
          typeMessage =
            "ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã§ãã€æ‹æ„›ã‚‚è½ã¡ç€ã„ãŸãƒšãƒ¼ã‚¹ã§è‚²ã¦ãŸã„ã‚¿ã‚¤ãƒ—ã€‚è¿‘ã™ããšé ã™ããšã®çµ¶å¦™ãªè·é›¢ã‚’ä½œã‚‹ã®ãŒä¸Šæ‰‹ã§ã€å®‰å¿ƒã§ãã‚‹é–¢ä¿‚ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ã€Œé©åº¦ãªäº¤æµï¼‹ä¸å¯§ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã§ã‚ˆã‚Šé–¢ä¿‚ãŒæ·±ã¾ã‚Šã¾ã™ã€‚";
        }
      } else if (totalScore >= 45) {
        if (selfUnderstandingN === maxNorm) {
          // â‘¡ å†…çœãƒã‚¤ãƒšãƒ¼ã‚¹å‹
          typeLabel = "å†…çœãƒã‚¤ãƒšãƒ¼ã‚¹å‹";
          typeMessage =
            "ä¸€åº¦è·é›¢ã‚’ç½®ã„ã¦ã˜ã£ãã‚Šè€ƒãˆãŸã„ã‚¿ã‚¤ãƒ—ã€‚è‡ªåˆ†ã®æ„Ÿæƒ…ã‚’ç†è§£ã—ã‚ˆã†ã¨ã™ã‚‹å§¿å‹¢ãŒå¼·ãã€èª å®Ÿã§ä¸å¯§ãªæ‹æ„›ã‚’å¥½ã¿ã¾ã™ã€‚å°‘ã—ã ã‘â€œé€£çµ¡ãƒ»è¡Œå‹•ã®ãƒšãƒ¼ã‚¹â€ã‚’å…±æœ‰ã™ã‚‹ã¨ã€é–¢ä¿‚ã®ã‚¹ãƒ ãƒ¼ã‚ºã•ãŒå¢—ã—ã¦ã„ãã¾ã™ã€‚";
        } else if (distanceN === maxNorm) {
          // â‘¤ è·é›¢æ„Ÿã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆå‹å¯„ã‚Š
          typeLabel = "è·é›¢æ„Ÿã‚³ãƒ³ãƒ•ã‚©ãƒ¼ãƒˆå‹";
          typeMessage =
            "ä¸€äººã®æ™‚é–“ã‚„è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§äº‹ã«ã—ãªãŒã‚‰ã€æ‹æ„›ã‚‚è½ã¡ç€ã„ãŸãƒ†ãƒ³ãƒã§é€²ã‚ãŸã„ã‚¿ã‚¤ãƒ—ã€‚ç„¡ç†ãªãç¶šãé–¢ä¿‚ã‚’å¤§äº‹ã«ã§ãã¾ã™ã€‚ã€ã“ã“ã¯ä¸€æ­©ã ã‘è¿‘ã¥ã„ã¦ã¿ã‚ˆã†ã‹ãªã€ã¨ã„ã†å ´é¢ã‚’å¢—ã‚„ã™ã¨ã€å‡ºä¼šã„ã®ãƒãƒ£ãƒ³ã‚¹ã‚‚åºƒãŒã‚Šã¾ã™ã€‚";
        } else if (empathyN === maxNorm && selfAxisN < 0.5) {
          // â‘¢ å…±æ„Ÿã‚„ã•ã—ã•ç‰¹åŒ–å‹
          typeLabel = "å…±æ„Ÿã‚„ã•ã—ã•ç‰¹åŒ–å‹";
          typeMessage =
            "ç›¸æ‰‹ã®æ°—æŒã¡ã«å¯„ã‚Šæ·»ã†åŠ›ãŒã¨ã¦ã‚‚é«˜ãã€å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‰ã‚Œã‚‹å­˜åœ¨ã€‚ãŸã ã—è‡ªåˆ†ã‚’å¾Œå›ã—ã«ã—ã‚„ã™ã„ã®ã§ã€åŒã˜ãã‚‰ã„ â€œè‡ªåˆ†ã®æ°—æŒã¡ã‚‚å¤§äº‹ã«ã™ã‚‹â€ ã¨æ‹æ„›æº€è¶³åº¦ãŒä¸ŠãŒã‚Šã¾ã™ã€‚ã‚„ã•ã—ã•ãŒé–¢ä¿‚ã®åœŸå°ã«ãªã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚";
        } else if (communicationN === maxNorm && distanceN < 0.5) {
          // â‘¦ æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹ï¼ˆä¸­ã‚¹ã‚³ã‚¢å¸¯ï¼‰
          typeLabel = "æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹";
          typeMessage =
            "æ°—ã«ãªã‚‹ã¨ä¸€æ°—ã«è·é›¢ã‚’ç¸®ã‚ãŸããªã‚‹ã€ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚¿ã‚¤ãƒ—ã€‚å¥½æ„ãŒã‚ã‹ã‚Šã‚„ã™ãä¼ã‚ã‚‹ä¸€æ–¹ã§ã€ç›¸æ‰‹ã®æº–å‚™ãŒæ•´ã†å‰ã«é€²ã¿ã™ãã¦ã—ã¾ã†ã“ã¨ã‚‚ã€‚ã€Œä¸€æ‹ãŠã„ã¦ã€ç›¸æ‰‹ã®åå¿œã‚’è¦‹ã‚‹ã€ã‚¯ã‚»ã‚’ã¤ã‘ã‚‹ã¨ã€èª å®Ÿã•ãŒã‚ˆã‚Šå¥½å°è±¡ã«ã¤ãªãŒã‚Šã¾ã™ã€‚";
        } else {
          // â‘  å®‰å®šå…±æ„Ÿãƒãƒ©ãƒ³ã‚¹ or â‘§ ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹ã®ä¸­é–“
          typeLabel = "ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹";
          typeMessage =
            "æ…é‡ã§æ€æ…®æ·±ãã€é–¢ä¿‚ã‚’ä¸å¯§ã«ç©ã¿é‡ã­ãŸã„ã‚¿ã‚¤ãƒ—ã€‚ä¸€åº¦ä¿¡é ¼ãŒç”Ÿã¾ã‚Œã‚‹ã¨æ·±ã„çµ†ã‚’è‚²ã¦ã‚‰ã‚Œã¾ã™ã€‚ã‚†ã£ãã‚Šé€²ã‚ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ãŒåˆã†ã®ã§ã€ç„¦ã‚‰ãšå®‰å¿ƒã§ãã‚‹ãƒšãƒ¼ã‚¹ãŒæœ€ã‚‚å¤§åˆ‡ã§ã™ã€‚";
        }
      } else if (totalScore >= 30) {
        if (communicationN > 0.6 && distanceN < 0.5) {
          // â‘¦ æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹ï¼ˆæ…é‡ã•å¼±ã‚ï¼‰
          typeLabel = "æƒ…ç†±ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆå‹";
          typeMessage =
            "å¥½ãã«ãªã‚‹ã¨æ°—æŒã¡ãŒä¸€æ°—ã«å‹•ãã‚„ã™ãã€ã¾ã£ã™ãã«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ãŸããªã‚‹ã‚¿ã‚¤ãƒ—ã€‚ç†±é‡ã¯å¤§ããªé­…åŠ›ãªã®ã§ã€ãã®ã¾ã¾å¤§äº‹ã«ã—ã¤ã¤ã€ç›¸æ‰‹ã®ä¸å®‰ã‚„ãƒšãƒ¼ã‚¹ã¯ã©ã†ã‹ãªï¼Ÿã€ã¨ä¸€ç¬è€ƒãˆã‚‹ã ã‘ã§ã€å®‰å¿ƒã•ã‚Œã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«å¤‰ãˆã¦ã„ã‘ã¾ã™ã€‚";
        } else if (empathyN > 0.6 && selfAxisN < 0.4) {
          // â‘¢ å…±æ„Ÿã‚„ã•ã—ã•ç‰¹åŒ–å‹ï¼ˆè‡ªå·±çŠ ç‰²å¯„ã‚Šï¼‰
          typeLabel = "å…±æ„Ÿã‚„ã•ã—ã•ç‰¹åŒ–å‹";
          typeMessage =
            "ç›¸æ‰‹ã®æ°—æŒã¡ã‚’å„ªå…ˆã—ã‚„ã™ãã€èãå½¹ãƒ»æ”¯ãˆå½¹ã«ãªã‚Šã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã€‚ã€ãã‚Œã‚’ã™ã‚‹ã¨è‡ªåˆ†ã¯ã©ã†æ„Ÿã˜ã‚‹ï¼Ÿã€ã¨è‡ªåˆ†å´ã®æ„Ÿæƒ…ã‚‚ç¢ºèªã—ã¦ã„ãã¨ã€ç„¡ç†ã®ãªã„â€œãŠäº’ã„ã•ã¾ãªé–¢ä¿‚â€ã«è¿‘ã¥ã„ã¦ã„ãã¾ã™ã€‚";
        } else if (distanceN > 0.6) {
          // â‘§ ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹å¯„ã‚Š
          typeLabel = "ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹";
          typeMessage =
            "æ…é‡ã•ã¨è¦³å¯ŸåŠ›ãŒã‚ã‚Šã€ç›¸æ‰‹ã‚’ã‚ˆãè¦‹ãªãŒã‚‰å°‘ã—ãšã¤è·é›¢ã‚’ç¸®ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ã‚¹ãƒ”ãƒ¼ãƒ‰ã¯ã‚†ã£ãã‚Šã§ã™ãŒã€ãã®åˆ†â€œé•·ãç¶šãé–¢ä¿‚â€ã‚’ä½œã‚Šã‚„ã™ã„ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚å°ã•ãªä¸€æ­©ã‚’ç©ã¿é‡ã­ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒã—ã£ãã‚Šãã‚‹äººã§ã™ã€‚";
        } else {
          // â‘¡ å†…çœãƒã‚¤ãƒšãƒ¼ã‚¹å‹ï¼ˆã‚„ã‚„ä½ã‚¹ã‚³ã‚¢å¸¯ï¼‰
          typeLabel = "å†…çœãƒã‚¤ãƒšãƒ¼ã‚¹å‹";
          typeMessage =
            "è‡ªåˆ†ã®å†…å´ã‚’å¤§äº‹ã«ã—ãªãŒã‚‰ã€æ…é‡ã«æ‹æ„›ã¨å‘ãåˆã„ãŸã„ã‚¿ã‚¤ãƒ—ã€‚ã€ã¡ã‚ƒã‚“ã¨å‘ãåˆã„ãŸã„ã‹ã‚‰ã“ãã€è»½ã„ãƒãƒªã«ãªã‚Œãªã„ã€ã¨ã„ã†çœŸé¢ç›®ã•ãŒã‚ã‚Šã¾ã™ã€‚å°ã•ãªè¡Œå‹•ã§OKãªã®ã§ã€â€œè€ƒãˆãŸã“ã¨ã‚’ä¸€ã¤å½¢ã«ã™ã‚‹â€ã‚’æ„è­˜ã™ã‚‹ã¨ã€æ‹ã®æµã‚ŒãŒå‹•ãå‡ºã—ã¾ã™ã€‚";
        }
      } else {
        // â‘§ ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹ ï¼‹ ãƒªãƒãƒ“ãƒªå¯„ã‚Š
        typeLabel = "ç¹Šç´°ã¦ã„ã­ã„æ…é‡å‹";
        typeMessage =
          "ä»Šã¯æ‹æ„›ã«å¯¾ã—ã¦å°‘ã—å®ˆã‚Šãƒ¢ãƒ¼ãƒ‰ãŒå¼·ããªã£ã¦ã„ã‚‹æ®µéšã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã“ã‚Œã¯â€œãƒ€ãƒ¡ãªã“ã¨â€ã§ã¯ãªãã€å¿ƒã‚’å®ˆã‚‹ãŸã‚ã®è‡ªç„¶ãªåå¿œã§ã™ã€‚å®‰å¿ƒã§ãã‚‹ç›¸æ‰‹ã‚„ç’°å¢ƒã§ã€å°ã•ãªå¯¾è©±ã‚„äº¤æµã‹ã‚‰æ…£ã‚‰ã—ã¦ã„ãã¨ã€è‡ªåˆ†ã‚‰ã—ã„ãƒšãƒ¼ã‚¹ã‚’å–ã‚Šæˆ»ã—ã¦ã„ã‘ã¾ã™ã€‚";
      }

      return { typeLabel, typeMessage };
    }

    // ã‚«ãƒ†ã‚´ãƒªå…¨ä½“ã‚³ãƒ¡ãƒ³ãƒˆ
    function buildOverallComment(norms) {
      const entries = [
        { key: "selfAxisN", label: "è‡ªå·±è»¸" },
        { key: "empathyN", label: "å…±æ„ŸåŠ›" },
        { key: "distanceN", label: "è·é›¢æ„Ÿ" },
        { key: "communicationN", label: "ã‚³ãƒŸãƒ¥åŠ›" },
        { key: "selfUnderstandingN", label: "è‡ªå·±ç†è§£" }
      ];

      const sorted = [...entries].sort(
        (a, b) => norms[b.key] - norms[a.key]
      );
      const top = sorted[0];
      const bottom = sorted[sorted.length - 1];

      let msg = "";

      msg +=
        "å…¨ä½“ã¨ã—ã¦ã€ã‚ãªãŸã¯ã€Œ" +
        top.label +
        "ã€ãŒç‰¹ã«å¼·ã¿ã¨ã—ã¦è¡¨ã‚Œã¦ã„ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚";

      msg +=
        " ä¸€æ–¹ã§ã€Œ" +
        bottom.label +
        "ã€ã¯ã€ä»Šå¾Œæ„è­˜ã—ã¦è‚²ã¦ã¦ã„ãã¨ãƒãƒ©ãƒ³ã‚¹ãŒæ•´ã„ã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã€‚";

      msg +=
        " å¾—æ„ãªéƒ¨åˆ†ã‚’ãã®ã¾ã¾æ´»ã‹ã—ã¤ã¤ã€å¼±ã‚ã®ã¨ã“ã‚ã‚’å°‘ã—ã ã‘ã‚±ã‚¢ã—ã¦ã„ãã“ã¨ã§ã€æ‹æ„›å…¨ä½“ã®å®‰å®šæ„Ÿã¨æº€è¶³åº¦ãŒãã£ã¨é«˜ã¾ã£ã¦ã„ãã¾ã™ã€‚";

      return msg;
    }

    // â–¼ çµæœãƒœã‚¿ãƒ³
    document.getElementById("submitBtn").addEventListener("click", function () {
      if (!validateCurrentStep()) return;

      const answers = [];
      for (let i = 1; i <= 15; i++) {
        const v = getValue("q" + i);
        if (v === null) {
          alert("ã¾ã ç­”ãˆã¦ã„ãªã„è³ªå•ãŒã‚ã‚Šã¾ã™ï¼ˆ" + i + "å•ç›®ï¼‰ã€‚");
          return;
        }
        answers[i] = v;
      }

      // ãƒˆãƒ¼ã‚¿ãƒ«ã‚¹ã‚³ã‚¢ï¼ˆæœ€å¤§75ï¼‰
      const totalScore = answers.slice(1).reduce((a, b) => a + b, 0);

      // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¹ã‚³ã‚¢
      // 1 communication / 2 empathy / 3 empathy / 4 communication
      // 5 distance / 6 self_axis / 7 self_understanding / 8 empathy
      // 9 distance / 10 self_axis / 11 self_understanding / 12 empathy
      // 13 distance / 14 self_axis / 15 self_understanding
      const communication = answers[1] + answers[4]; // /10
      const empathy = answers[2] + answers[3] + answers[8] + answers[12]; // /20
      const distance = answers[5] + answers[9] + answers[13]; // /15
      const selfAxis = answers[6] + answers[10] + answers[14]; // /15
      const selfUnderstanding =
        answers[7] + answers[11] + answers[15]; // /15

      const maxComm = 10;
      const maxEmp = 20;
      const maxDist = 15;
      const maxAxis = 15;
      const maxSelfU = 15;

      const norms = {
        selfAxisN: selfAxis / maxAxis,
        empathyN: empathy / maxEmp,
        distanceN: distance / maxDist,
        communicationN: communication / maxComm,
        selfUnderstandingN: selfUnderstanding / maxSelfU
      };

      const { typeLabel, typeMessage } = decideType(totalScore, norms);
      const overallComment = buildOverallComment(norms);

      // ãƒ¡ã‚¤ãƒ³ã‚¹ã‚³ã‚¢è¡¨ç¤º
      document.getElementById("mainScoreValue").textContent =
        totalScore + " / 75";

      // ã‚¿ã‚¤ãƒ—å
      document.getElementById("typeLabel").textContent = typeLabel;

      // ã‚«ãƒ†ã‚´ãƒªâ˜…è¡¨ç¤º
      const catLines = [];
      catLines.push(
        "è‡ªå·±è»¸ã€€ï¼š" +
          toStars(selfAxis, maxAxis) +
          "ï¼ˆ" +
          levelComment(selfAxis, maxAxis) +
          "ï¼‰"
      );
      catLines.push(
        "å…±æ„ŸåŠ›ã€€ï¼š" +
          toStars(empathy, maxEmp) +
          "ï¼ˆ" +
          levelComment(empathy, maxEmp) +
          "ï¼‰"
      );
      catLines.push(
        "è·é›¢æ„Ÿã€€ï¼š" +
          toStars(distance, maxDist) +
          "ï¼ˆ" +
          levelComment(distance, maxDist) +
          "ï¼‰"
      );
      catLines.push(
        "ã‚³ãƒŸãƒ¥åŠ›ï¼š" +
          toStars(communication, maxComm) +
          "ï¼ˆ" +
          levelComment(communication, maxComm) +
          "ï¼‰"
      );
      catLines.push(
        "è‡ªå·±ç†è§£ï¼š" +
          toStars(selfUnderstanding, maxSelfU) +
          "ï¼ˆ" +
          levelComment(selfUnderstanding, maxSelfU) +
          "ï¼‰"
      );

      document.getElementById("categoryScores").innerHTML =
        "ğŸŒ¿ ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®å‚¾å‘<br>" + catLines.join("<br>");

      // ã‚¿ã‚¤ãƒ—è§£èª¬
      document.getElementById("typeMessage").textContent = typeMessage;

      // ç·åˆè©•ä¾¡ï¼ˆã‚«ãƒ†ã‚´ãƒªå…¨ä½“ã‚³ãƒ¡ãƒ³ãƒˆï¼‰
      document.getElementById("overallComment").textContent = overallComment;

      // ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆè³ªå•ãƒšãƒ¼ã‚¸ï¼‰ã‚’éš ã—ã¦ã€çµæœãƒšãƒ¼ã‚¸ã ã‘è¦‹ã›ã‚‹ï¼å˜ä½“ãƒšãƒ¼ã‚¸é¢¨
      quizForm.style.display = "none";
      stepIndicator.textContent = "è¨ºæ–­çµæœ";
      resultCard.style.display = "block";
      resultCard.scrollIntoView({ behavior: "smooth" });
    });
  </script>
</body>
</html>
