<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>あなたの恋愛スタイル診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: "Hiragino Sans", "游ゴシック", system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffd3e3;
    }
    .wrapper {
      max-width: 840px;
      margin: 0 auto;
      padding: 32px 16px 64px;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      padding: 24px 24px 32px;
      box-shadow: 0 6px 16px rgba(255, 105, 180, 0.2);
    }
    h1 {
      text-align: center;
      margin: 0 0 16px;
      font-size: 24px;
      letter-spacing: 0.08em;
      color: #ff4b8a;
    }
    .lead {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    .question {
      margin-bottom: 20px;
      padding: 16px 16px 4px;
      border-radius: 10px;
      background: #fff7fb;
      border: 1px solid #ffd0e6;
    }
    .question-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
      color: #444;
    }
    .options {
      margin-left: 4px;
    }
    .options label {
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    .options input {
      margin-right: 4px;
    }
    .submit-wrap {
      text-align: center;
      margin: 28px 0 8px;
    }
    button#submitBtn {
      background: #ff4b8a;
      color: #fff;
      border: none;
      padding: 10px 32px;
      font-size: 15px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.08em;
      box-shadow: 0 4px 10px rgba(255, 75, 138, 0.4);
    }
    button#submitBtn:hover {
      opacity: 0.9;
      transform: translateY(1px);
    }
    .result-card {
      margin-top: 24px;
      padding: 20px 16px 16px;
      border-radius: 10px;
      background: #fff0f7;
      border: 1px solid #ffc2df;
    }
    .result-title {
      font-weight: 700;
      margin-bottom: 8px;
      color: #ff4b8a;
    }
    .result-main-score {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .type-label {
      font-size: 15px;
      margin-bottom: 8px;
    }
    .category-list {
      margin: 8px 0 10px;
      font-size: 13px;
      line-height: 1.7;
    }
    .result-message {
      font-size: 13px;
      line-height: 1.7;
      margin-top: 4px;
    }
    .note {
      margin-top: 16px;
      font-size: 11px;
      color: #888;
      text-align: center;
      line-height: 1.6;
    }
    @media (max-width: 600px) {
      .card {
        padding: 18px 14px 26px;
      }
      .question {
        padding: 12px 10px 2px;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="card">
      <h1>あなたの恋愛スタイル診断</h1>
      <p class="lead">
        15問に答えると、あなたの恋愛スタイルの傾向とスコアをチェックできます。<br />
        （A〜Eのどれかを1つ選んでください）
      </p>

      <form id="quizForm">
        <!-- Q1 -->
        <div class="question">
          <div class="question-title">
            1. 初対面の異性と話す時、どのくらい自然に話せますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q1" value="5" />ほぼ緊張せず会話できる</label>
            <label><input type="radio" name="q1" value="4" />少し緊張するが普通に話せる</label>
            <label><input type="radio" name="q1" value="3" />会話に困る時がある</label>
            <label><input type="radio" name="q1" value="2" />かなり緊張する</label>
            <label><input type="radio" name="q1" value="1" />会話がうまくできない</label>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question">
          <div class="question-title">
            2. 相手の気持ちや意図を理解しようとする姿勢は？
          </div>
          <div class="options">
            <label><input type="radio" name="q2" value="5" />いつも意識している</label>
            <label><input type="radio" name="q2" value="4" />けっこう意識している</label>
            <label><input type="radio" name="q2" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q2" value="2" />あまり意識しない</label>
            <label><input type="radio" name="q2" value="1" />ほぼ意識しない</label>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question">
          <div class="question-title">
            3. 気持ちや思っていることを、相手にわかるように伝えるのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q3" value="5" />とても得意</label>
            <label><input type="radio" name="q3" value="4" />けっこう得意</label>
            <label><input type="radio" name="q3" value="3" />ときどき難しい</label>
            <label><input type="radio" name="q3" value="2" />あまり得意じゃない</label>
            <label><input type="radio" name="q3" value="1" />かなり苦手</label>
          </div>
        </div>

        <!-- Q4 -->
        <div class="question">
          <div class="question-title">
            4. 恋をすると、あなたは自分のペースを保てますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q4" value="5" />しっかり保てる</label>
            <label><input type="radio" name="q4" value="4" />ほぼ保てる</label>
            <label><input type="radio" name="q4" value="3" />揺らぐことがある</label>
            <label><input type="radio" name="q4" value="2" />相手中心になりすぎることが多い</label>
            <label><input type="radio" name="q4" value="1" />いつも相手に振り回される</label>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question">
          <div class="question-title">
            5. 好きな人との距離感をつかむのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q5" value="5" />かなり得意</label>
            <label><input type="radio" name="q5" value="4" />だいたい得意</label>
            <label><input type="radio" name="q5" value="3" />ときどき迷う</label>
            <label><input type="radio" name="q5" value="2" />うまく距離が取れないことが多い</label>
            <label><input type="radio" name="q5" value="1" />ほぼいつも距離感を間違える</label>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question">
          <div class="question-title">
            6. あなたは、相手の本質や性格を見抜くのが得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q6" value="5" />かなり得意</label>
            <label><input type="radio" name="q6" value="4" />だいたい合っている</label>
            <label><input type="radio" name="q6" value="3" />まあまあ当たる</label>
            <label><input type="radio" name="q6" value="2" />けっこう間違えることが多い</label>
            <label><input type="radio" name="q6" value="1" />よく見誤る</label>
          </div>
        </div>

        <!-- Q7 -->
        <div class="question">
          <div class="question-title">
            7. 相手に合わせすぎず、自分の意見や希望を言える方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q7" value="5" />しっかり言える</label>
            <label><input type="radio" name="q7" value="4" />だいたい言える</label>
            <label><input type="radio" name="q7" value="3" />ときどき我慢してしまう</label>
            <label><input type="radio" name="q7" value="2" />けっこう言えないことが多い</label>
            <label><input type="radio" name="q7" value="1" />ほとんど言えない</label>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question">
          <div class="question-title">
            8. 相手の気持ちや立場を思いやって行動できる方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q8" value="5" />かなりできる</label>
            <label><input type="radio" name="q8" value="4" />だいたいできる</label>
            <label><input type="radio" name="q8" value="3" />ときどきできる</label>
            <label><input type="radio" name="q8" value="2" />あまりできない</label>
            <label><input type="radio" name="q8" value="1" />ほとんどできない</label>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question">
          <div class="question-title">
            9. 自分の感情や気持ちに、ちゃんと気づける方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q9" value="5" />いつも気づける</label>
            <label><input type="radio" name="q9" value="4" />だいたい気づける</label>
            <label><input type="radio" name="q9" value="3" />ときどき混乱する</label>
            <label><input type="radio" name="q9" value="2" />自分の気持ちがよくわからない</label>
            <label><input type="radio" name="q9" value="1" />ほとんど気づけない</label>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question">
          <div class="question-title">
            10. 気になる人に対して、相手のテンポに合わせて進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q10" value="5" />かなり合わせられる</label>
            <label><input type="radio" name="q10" value="4" />だいたい合わせられる</label>
            <label><input type="radio" name="q10" value="3" />たまにズレる</label>
            <label><input type="radio" name="q10" value="2" />けっこうズレる</label>
            <label><input type="radio" name="q10" value="1" />ほぼズレっぱなし</label>
          </div>
        </div>

        <!-- Q11 -->
        <div class="question">
          <div class="question-title">
            11. 恋愛で期待しすぎず、現実的に相手を見ることができますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q11" value="5" />かなりできる</label>
            <label><input type="radio" name="q11" value="4" />だいたいできる</label>
            <label><input type="radio" name="q11" value="3" />ときどき理想化する</label>
            <label><input type="radio" name="q11" value="2" />理想を投影してしまう</label>
            <label><input type="radio" name="q11" value="1" />ほぼ現実が見えない</label>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question">
          <div class="question-title">
            12. 親しい関係になっても、ひとりの時間を大切にできますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q12" value="5" />しっかりできる</label>
            <label><input type="radio" name="q12" value="4" />だいたいできる</label>
            <label><input type="radio" name="q12" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q12" value="2" />ひとりでいるのが不安</label>
            <label><input type="radio" name="q12" value="1" />いつも相手と一緒にいたい</label>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question">
          <div class="question-title">
            13. 恋愛の失敗や経験から学びを活かせていますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q13" value="5" />かなり活かせている</label>
            <label><input type="radio" name="q13" value="4" />だいたい活かせている</label>
            <label><input type="radio" name="q13" value="3" />たまに活かす</label>
            <label><input type="radio" name="q13" value="2" />あまり活かせていない</label>
            <label><input type="radio" name="q13" value="1" />ほぼ同じ失敗を繰り返す</label>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question">
          <div class="question-title">
            14. 相手に合わせるだけでなく、関係を一緒に作る意識はありますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q14" value="5" />強くある</label>
            <label><input type="radio" name="q14" value="4" />けっこうある</label>
            <label><input type="radio" name="q14" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q14" value="2" />あまりない</label>
            <label><input type="radio" name="q14" value="1" />相手任せになりがち</label>
          </div>
        </div>

        <!-- Q15 -->
        <div class="question">
          <div class="question-title">
            15. 信頼関係ができるまで、焦らずゆっくり進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q15" value="5" />とてもできる</label>
            <label><input type="radio" name="q15" value="4" />だいたいできる</label>
            <label><input type="radio" name="q15" value="3" />ときどき焦る</label>
            <label><input type="radio" name="q15" value="2" />けっこう焦る</label>
            <label><input type="radio" name="q15" value="1" />いつも急ぎがち</label>
          </div>
        </div>

        <div class="submit-wrap">
          <button type="button" id="submitBtn">結果を見る</button>
        </div>
      </form>

      <div id="result" class="result-card" style="display:none;">
        <div class="result-title">診断結果</div>
        <div class="result-main-score" id="mainScore"></div>
        <div class="type-label" id="typeLabel"></div>
        <div class="category-list" id="categoryScores"></div>
        <div class="result-message" id="typeMessage"></div>
      </div>

      <p class="note">
        ※この診断はあくまでセルフチェック用の簡易ツールです。<br />
        結果を絶対視せず、自分を見つめ直すきっかけとしてご利用ください。
      </p>
    </div>
  </div>

  <script>
    function getValue(name) {
      const checked = document.querySelector(
        'input[name="' + name + '"]:checked'
      );
      return checked ? Number(checked.value) : null;
    }

    // ★ スター表示用：カテゴリスコア → ★＋一言コメント
    function toStars(score, max) {
      const ratio = score / max;
      let starsCount;
      if (ratio >= 0.85) {
        starsCount = 5;
      } else if (ratio >= 0.7) {
        starsCount = 4;
      } else if (ratio >= 0.5) {
        starsCount = 3;
      } else if (ratio >= 0.3) {
        starsCount = 2;
      } else {
        starsCount = 1;
      }
      const full = "★★★★★".slice(0, starsCount);
      const empty = "☆☆☆☆☆".slice(0, 5 - starsCount);
      return full + empty;
    }

    function levelComment(score, max) {
      const ratio = score / max;
      if (ratio >= 0.85) return "かなり高め";
      if (ratio >= 0.7) return "高め";
      if (ratio >= 0.5) return "ふつう〜やや高め";
      if (ratio >= 0.3) return "やや弱め";
      return "弱め・これから伸ばせる";
    }

    // 8タイプ判定
    function decideType(totalScore, norms) {
      const {
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      } = norms;

      const maxNorm = Math.max(
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      );

      let typeLabel = "";
      let typeMessage = "";

      if (totalScore >= 60) {
        if (
          (empathyN >= 0.7 || distanceN >= 0.7) &&
          empathyN >= distanceN
        ) {
          // 1 安定共感バランス型
          typeLabel = "安定共感バランス型";
          typeMessage =
            "相手の気持ちを受け取りつつ、自分のペースも大事にできる安定感のあるタイプ。信頼関係をじっくり育てていくのが得意です。ときどき自分の本音を言葉にしてシェアしていくと、さらに関係が深まりやすくなります。";
        } else if (selfAxisN === maxNorm) {
          // 2 自分軸リーダー型
          typeLabel = "自分軸リーダー型";
          typeMessage =
            "自分なりの価値観や基準がはっきりしていて、恋愛でもブレにくいタイプ。主導権を握りやすい一方で、相手のペースや不安にも少し耳を傾けると、より安心される存在になります。『伝える前に一呼吸おく』が鍵。";
        } else if (communicationN === maxNorm) {
          // 3 会話オープンコミュ力型
          typeLabel = "会話オープンコミュ力型";
          typeMessage =
            "話しかけやすく、距離を縮めるのが早いタイプ。楽しいムードを作れる反面、踏み込みすぎやすさもセットになりがちです。相手の様子を少し観察しながら、ペース配分を調整していくと、軽さではなく“信頼される明るさ”に変わっていきます。";
        } else if (selfUnderstandingN === maxNorm) {
          // 4 内省マイペース型
          typeLabel = "内省マイペース型";
          typeMessage =
            "自分の感情やパターンをよく観察しているタイプ。恋愛でもじっくり考えてから動きたい傾向があります。その分、一歩目が遅れがちなので『完璧なタイミング』を待ちすぎないことが大事。7割くらいの準備で動いてみると、恋愛の流れがぐっと変わります。";
        } else {
          // 5 大人の距離感マスター型
          typeLabel = "大人の距離感マスター型";
          typeMessage =
            "近づきすぎず、離れすぎずのバランスを取りやすいタイプ。依存しすぎない関係を作りやすい一方で、踏み込むタイミングを逃すことも。『ここは一歩踏み込みたいな』と感じた瞬間を逃さず、気持ちを少しだけ多めに表現してみると良い流れが生まれます。";
        }
      } else if (totalScore >= 45) {
        if (selfUnderstandingN === maxNorm) {
          // 4 内省マイペース型（中スコア寄り）
          typeLabel = "内省マイペース型";
          typeMessage =
            "自分の心の動きに敏感で、恋愛でもじっくり考えながら関係を育てたいタイプ。慎重さゆえにチャンスを見送ってしまうこともありますが、『少し気になる』段階で軽いアクションを起こすクセをつけると、恋のチャンスが増えていきます。";
        } else if (distanceN === maxNorm) {
          // 5 距離感慎重ガード型
          typeLabel = "距離感慎重ガード型";
          typeMessage =
            "相手との距離を慎重に測るタイプで、踏み込みすぎることが少ない安心感のあるスタイルです。ただ、慎重さが“様子見のまま終わる恋”を増やしてしまうことも。『安心できる相手だと感じたら一歩前へ』を意識してみると、関係が動きやすくなります。";
        } else if (empathyN === maxNorm && selfAxisN < 0.5) {
          // 6 受け身共感タイプ
          typeLabel = "受け身共感タイプ";
          typeMessage =
            "相手の気持ちに寄り添う力が高く、聞き役になりやすいタイプ。優しさゆえに、自分の希望や不満を後回しにしがちです。『本当はどうしたい？』を自分に問いかけてから、少しずつ言葉にしていくと、恋愛の満足度がぐっと上がります。";
        } else if (communicationN === maxNorm && distanceN < 0.5) {
          // 7 一気に盛り上がりタイプ
          typeLabel = "一気に盛り上がりタイプ";
          typeMessage =
            "気になると一気に距離を縮めたくなる情熱型。相手からすると嬉しい半面、ペースの違いで驚かれることもあります。『相手の反応を半歩だけ待つ』意識を持つと、熱量はそのままに、安心されるアプローチに変えていけます。";
        } else {
          // 2 or 5 系の中間
          typeLabel = "バランス成長タイプ";
          typeMessage =
            "大きな偏りはなく、恋愛スタイルとしては“これから整っていく途中”の段階です。どこか1つを極端に変えるより、『自己軸』『共感』『距離感』のうち、気になる1つだけにフォーカスして整えていくと、全体がゆるやかに底上げされていきます。";
        }
      } else if (totalScore >= 30) {
        if (communicationN > 0.6 && distanceN < 0.5) {
          // 7 一気に盛り上がりタイプ（慎重さ弱め）
          typeLabel = "一気に盛り上がりタイプ";
          typeMessage =
            "好きになると感情が一気に動きやすく、勢いで進めてしまうことがあるタイプ。熱さは魅力なので消す必要はありませんが、『相手の不安はどこかな？』と一瞬立ち止まって想像してみるだけで、関係の安定感が大きく変わります。";
        } else if (empathyN > 0.6 && selfAxisN < 0.4) {
          // 6 受け身共感タイプ（自己犠牲寄り）
          typeLabel = "受け身共感タイプ";
          typeMessage =
            "相手のことを優先しやすく、自分の気持ちを脇に置きがちなスタイルです。『NOを言っても嫌われない』経験を少しずつ積むと、恋愛が“我慢の場所”から“安心できる場所”に変わっていきます。";
        } else if (distanceN > 0.6) {
          // 5 距離感慎重ガード型（やや守り寄り）
          typeLabel = "距離感慎重ガード型";
          typeMessage =
            "慎重に様子を見るクセがあり、強い失敗は少ないタイプ。ただ、その分“始まらない恋”も増えやすい傾向があります。少しでも興味を持ったら、軽いメッセージやリアクションからタッチしてみると、流れが変わりやすくなります。";
        } else {
          // 8 恋愛リハビリ中タイプ（中スコア）
          typeLabel = "恋愛リハビリ中タイプ";
          typeMessage =
            "これまでの経験や環境の影響で、恋愛に対して少し慎重モードになっている状態かもしれません。いきなり大きな一歩を踏み出すよりも、『安心できる人との小さな経験』を積み重ねていくことで、感覚が少しずつ戻ってきます。";
        }
      } else {
        // 8 低スコア帯：恋愛リハビリ中・伸びしろタイプ
        typeLabel = "恋愛リハビリ中・伸びしろタイプ";
        typeMessage =
          "今は恋愛に対して自信が持ちづらかったり、動き方がわからなくなっている段階かもしれません。でもこれは“センスがない”ではなく、ただ感覚が眠っているだけ。自分を責めるより、『どこからなら少し動けそうか』を一緒に探していくイメージで向き合うのがおすすめです。";
      }

      return { typeLabel, typeMessage };
    }

    document.getElementById("submitBtn").addEventListener("click", function () {
      const answers = [];
      for (let i = 1; i <= 15; i++) {
        const v = getValue("q" + i);
        if (v === null) {
          alert("まだ答えていない質問があります（" + i + "問目）。");
          return;
        }
        answers[i] = v;
      }

      // トータルスコア（最大75）
      const totalScore = answers.slice(1).reduce((a, b) => a + b, 0);

      // カテゴリ別スコア（あなたが直した割り当てに合わせる）
      // No  カテゴリ
      // 1  communication
      // 2  empathy
      // 3  empathy
      // 4  communication
      // 5  distance
      // 6  self_axis
      // 7  self_understanding
      // 8  empathy
      // 9  distance
      // 10 self_axis
      // 11 self_understanding
      // 12 empathy
      // 13 distance
      // 14 self_axis
      // 15 self_understanding

      const communication = answers[1] + answers[4]; // /10
      const empathy = answers[2] + answers[3] + answers[8] + answers[12]; // /20
      const distance = answers[5] + answers[9] + answers[13]; // /15
      const selfAxis = answers[6] + answers[10] + answers[14]; // /15
      const selfUnderstanding =
        answers[7] + answers[11] + answers[15]; // /15

      const maxComm = 10;
      const maxEmp = 20;
      const maxDist = 15;
      const maxAxis = 15;
      const maxSelfU = 15;

      const norms = {
        selfAxisN: selfAxis / maxAxis,
        empathyN: empathy / maxEmp,
        distanceN: distance / maxDist,
        communicationN: communication / maxComm,
        selfUnderstandingN: selfUnderstanding / maxSelfU
      };

      const { typeLabel, typeMessage } = decideType(totalScore, norms);

      // メインスコア表示（総合）
      document.getElementById("mainScore").textContent =
        "💗 あなたの恋愛能力指数：" + totalScore + " / 75";

      document.getElementById("typeLabel").textContent =
        "あなたの恋愛スタイルタイプ： " + typeLabel;

      // カテゴリ★表示
      const catLines = [];
      catLines.push(
        "自己軸　：" +
          toStars(selfAxis, maxAxis) +
          "（" +
          levelComment(selfAxis, maxAxis) +
          "）"
      );
      catLines.push(
        "共感力　：" +
          toStars(empathy, maxEmp) +
          "（" +
          levelComment(empathy, maxEmp) +
          "）"
      );
      catLines.push(
        "距離感　：" +
          toStars(distance, maxDist) +
          "（" +
          levelComment(distance, maxDist) +
          "）"
      );
      catLines.push(
        "コミュ力：" +
          toStars(communication, maxComm) +
          "（" +
          levelComment(communication, maxComm) +
          "）"
      );
      catLines.push(
        "自己理解：" +
          toStars(selfUnderstanding, maxSelfU) +
          "（" +
          levelComment(selfUnderstanding, maxSelfU) +
          "）"
      );

      document.getElementById("categoryScores").innerHTML =
        "🌿 カテゴリ別の傾向" + "<br>" + catLines.join("<br>");

      document.getElementById("typeMessage").textContent = typeMessage;

      document.getElementById("result").style.display = "block";
      document
        .getElementById("result")
        .scrollIntoView({ behavior: "smooth" });
    });
  </script>
</body>
</html>
