<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>あなたの恋愛スタイル診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: "Hiragino Sans", "游ゴシック", system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffe6cf; /* テーマカラー：薄いオレンジ */
    }
    .wrapper {
      max-width: 840px;
      margin: 0 auto;
      padding: 32px 16px 64px;
    }
    .card {
      background: #fffaf3;
      border-radius: 12px;
      padding: 24px 24px 32px;
      box-shadow: 0 6px 16px rgba(255, 140, 50, 0.18);
    }
    h1 {
      text-align: center;
      margin: 0 0 16px;
      font-size: 24px;
      letter-spacing: 0.08em;
      color: #ff8b3d;
    }
    .lead {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    .question {
      margin-bottom: 20px;
      padding: 16px 16px 4px;
      border-radius: 10px;
      background: #fff7ec;
      border: 1px solid #ffd3a3;
    }
    .question-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
      color: #444;
    }
    .options {
      margin-left: 4px;
    }
    .options label {
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    .options input {
      margin-right: 4px;
    }
    .submit-wrap {
      text-align: center;
      margin: 28px 0 8px;
    }
    button#submitBtn {
      background: #ff8b3d;
      color: #fff;
      border: none;
      padding: 10px 32px;
      font-size: 15px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.08em;
      box-shadow: 0 4px 10px rgba(255, 139, 61, 0.35);
    }
    button#submitBtn:hover {
      opacity: 0.9;
      transform: translateY(1px);
    }
    .result-card {
      margin-top: 24px;
      padding: 20px 16px 16px;
      border-radius: 10px;
      background: #fff4e5;
      border: 1px solid #ffd1a3;
    }
    .result-title {
      font-weight: 700;
      margin-bottom: 8px;
      color: #ff8b3d;
      font-size: 18px;
    }
    .result-main-score {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      line-height: 1.5;
    }
    .main-score-number {
      display: block;
      margin-top: 2px;
      font-size: 1.3em; /* 数値だけ1.3倍 */
    }
    .type-label {
      font-size: 14px;
      margin-bottom: 10px;
      line-height: 1.5;
    }
    .type-label-name {
      display: block;
      margin-top: 2px;
      font-size: 1.1em;
      font-weight: 700; /* タイプ名だけ太字 */
    }
    .category-list {
      margin: 8px 0 10px;
      font-size: 13px;
      line-height: 1.7;
    }
    .category-summary-title {
      margin-top: 6px;
      font-size: 13px;
      font-weight: 700;
    }
    .category-summary-body {
      font-size: 13px;
      line-height: 1.7;
      margin-top: 4px;
    }
    .result-message {
      font-size: 13px;
      line-height: 1.7;
      margin-top: 8px;
    }
    .note {
      margin-top: 16px;
      font-size: 11px;
      color: #888;
      text-align: center;
      line-height: 1.6;
    }
    @media (max-width: 600px) {
      .card {
        padding: 18px 14px 26px;
      }
      .question {
        padding: 12px 10px 2px;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="card">
      <h1>あなたの恋愛スタイル診断</h1>
      <p class="lead">
        15問に答えると、あなたの恋愛スタイルの傾向とスコアをチェックできます。<br />
        （A〜Eのどれかを1つ選んでください）
      </p>

      <form id="quizForm">
        <!-- Q1 -->
        <div class="question">
          <div class="question-title">
            1. 初対面の異性と話す時、どのくらい自然に話せますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q1" value="5" />ほぼ緊張せず会話できる</label>
            <label><input type="radio" name="q1" value="4" />少し緊張するが普通に話せる</label>
            <label><input type="radio" name="q1" value="3" />会話に困る時がある</label>
            <label><input type="radio" name="q1" value="2" />かなり緊張する</label>
            <label><input type="radio" name="q1" value="1" />会話がうまくできない</label>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question">
          <div class="question-title">
            2. 相手の気持ちや意図を理解しようとする姿勢は？
          </div>
          <div class="options">
            <label><input type="radio" name="q2" value="5" />いつも意識している</label>
            <label><input type="radio" name="q2" value="4" />けっこう意識している</label>
            <label><input type="radio" name="q2" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q2" value="2" />あまり意識しない</label>
            <label><input type="radio" name="q2" value="1" />ほぼ意識しない</label>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question">
          <div class="question-title">
            3. 気持ちや思っていることを、相手にわかるように伝えるのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q3" value="5" />とても得意</label>
            <label><input type="radio" name="q3" value="4" />けっこう得意</label>
            <label><input type="radio" name="q3" value="3" />ときどき難しい</label>
            <label><input type="radio" name="q3" value="2" />あまり得意じゃない</label>
            <label><input type="radio" name="q3" value="1" />かなり苦手</label>
          </div>
        </div>

        <!-- Q4 -->
        <div class="question">
          <div class="question-title">
            4. 恋をすると、あなたは自分のペースを保てますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q4" value="5" />しっかり保てる</label>
            <label><input type="radio" name="q4" value="4" />ほぼ保てる</label>
            <label><input type="radio" name="q4" value="3" />揺らぐことがある</label>
            <label><input type="radio" name="q4" value="2" />相手中心になりすぎることが多い</label>
            <label><input type="radio" name="q4" value="1" />いつも相手に振り回される</label>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question">
          <div class="question-title">
            5. 好きな人との距離感をつかむのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q5" value="5" />かなり得意</label>
            <label><input type="radio" name="q5" value="4" />だいたい得意</label>
            <label><input type="radio" name="q5" value="3" />ときどき迷う</label>
            <label><input type="radio" name="q5" value="2" />うまく距離が取れないことが多い</label>
            <label><input type="radio" name="q5" value="1" />ほぼいつも距離感を間違える</label>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question">
          <div class="question-title">
            6. あなたは、相手の本質や性格を見抜くのが得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q6" value="5" />かなり得意</label>
            <label><input type="radio" name="q6" value="4" />だいたい合っている</label>
            <label><input type="radio" name="q6" value="3" />まあまあ当たる</label>
            <label><input type="radio" name="q6" value="2" />けっこう間違えることが多い</label>
            <label><input type="radio" name="q6" value="1" />よく見誤る</label>
          </div>
        </div>

        <!-- Q7 -->
        <div class="question">
          <div class="question-title">
            7. 相手に合わせすぎず、自分の意見や希望を言える方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q7" value="5" />しっかり言える</label>
            <label><input type="radio" name="q7" value="4" />だいたい言える</label>
            <label><input type="radio" name="q7" value="3" />ときどき我慢してしまう</label>
            <label><input type="radio" name="q7" value="2" />けっこう言えないことが多い</label>
            <label><input type="radio" name="q7" value="1" />ほとんど言えない</label>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question">
          <div class="question-title">
            8. 相手の気持ちや立場を思いやって行動できる方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q8" value="5" />かなりできる</label>
            <label><input type="radio" name="q8" value="4" />だいたいできる</label>
            <label><input type="radio" name="q8" value="3" />ときどきできる</label>
            <label><input type="radio" name="q8" value="2" />あまりできない</label>
            <label><input type="radio" name="q8" value="1" />ほとんどできない</label>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question">
          <div class="question-title">
            9. 自分の感情や気持ちに、ちゃんと気づける方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q9" value="5" />いつも気づける</label>
            <label><input type="radio" name="q9" value="4" />だいたい気づける</label>
            <label><input type="radio" name="q9" value="3" />ときどき混乱する</label>
            <label><input type="radio" name="q9" value="2" />自分の気持ちがよくわからない</label>
            <label><input type="radio" name="q9" value="1" />ほとんど気づけない</label>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question">
          <div class="question-title">
            10. 気になる人に対して、相手のテンポに合わせて進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q10" value="5" />かなり合わせられる</label>
            <label><input type="radio" name="q10" value="4" />だいたい合わせられる</label>
            <label><input type="radio" name="q10" value="3" />たまにズレる</label>
            <label><input type="radio" name="q10" value="2" />けっこうズレる</label>
            <label><input type="radio" name="q10" value="1" />ほぼズレっぱなし</label>
          </div>
        </div>

        <!-- Q11 -->
        <div class="question">
          <div class="question-title">
            11. 恋愛で期待しすぎず、現実的に相手を見ることができますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q11" value="5" />かなりできる</label>
            <label><input type="radio" name="q11" value="4" />だいたいできる</label>
            <label><input type="radio" name="q11" value="3" />ときどき理想化する</label>
            <label><input type="radio" name="q11" value="2" />理想を投影してしまう</label>
            <label><input type="radio" name="q11" value="1" />ほぼ現実が見えない</label>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question">
          <div class="question-title">
            12. 親しい関係になっても、ひとりの時間を大切にできますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q12" value="5" />しっかりできる</label>
            <label><input type="radio" name="q12" value="4" />だいたいできる</label>
            <label><input type="radio" name="q12" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q12" value="2" />ひとりでいるのが不安</label>
            <label><input type="radio" name="q12" value="1" />いつも相手と一緒にいたい</label>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question">
          <div class="question-title">
            13. 恋愛の失敗や経験から学びを活かせていますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q13" value="5" />かなり活かせている</label>
            <label><input type="radio" name="q13" value="4" />だいたい活かせている</label>
            <label><input type="radio" name="q13" value="3" />たまに活かす</label>
            <label><input type="radio" name="q13" value="2" />あまり活かせていない</label>
            <label><input type="radio" name="q13" value="1" />ほぼ同じ失敗を繰り返す</label>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question">
          <div class="question-title">
            14. 相手に合わせるだけでなく、関係を一緒に作る意識はありますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q14" value="5" />強くある</label>
            <label><input type="radio" name="q14" value="4" />けっこうある</label>
            <label><input type="radio" name="q14" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q14" value="2" />あまりない</label>
            <label><input type="radio" name="q14" value="1" />相手任せになりがち</label>
          </div>
        </div>

        <!-- Q15 -->
        <div class="question">
          <div class="question-title">
            15. 信頼関係ができるまで、焦らずゆっくり進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q15" value="5" />とてもできる</label>
            <label><input type="radio" name="q15" value="4" />だいたいできる</label>
            <label><input type="radio" name="q15" value="3" />ときどき焦る</label>
            <label><input type="radio" name="q15" value="2" />けっこう焦る</label>
            <label><input type="radio" name="q15" value="1" />いつも急ぎがち</label>
          </div>
        </div>

        <div class="submit-wrap">
          <button type="button" id="submitBtn">結果を見る</button>
        </div>
      </form>

      <div id="result" class="result-card" style="display:none;">
        <div class="result-title">診断結果</div>
        <div class="result-main-score" id="mainScore"></div>
        <div class="type-label" id="typeLabel"></div>
        <div class="category-list" id="categoryScores"></div>
        <div class="category-summary">
          <div class="category-summary-title">📝 カテゴリ全体から見ると…</div>
          <div class="category-summary-body" id="categorySummary"></div>
        </div>
        <div class="result-message" id="typeMessage"></div>
      </div>

      <p class="note">
        ※この診断はあくまでセルフチェック用の簡易ツールです。<br />
        結果を絶対視せず、自分を見つめ直すきっかけとしてご利用ください。
      </p>
    </div>
  </div>

  <script>
    function getValue(name) {
      const checked = document.querySelector(
        'input[name="' + name + '"]:checked'
      );
      return checked ? Number(checked.value) : null;
    }

    // ★ スター表示用：カテゴリスコア → ★＋一言コメント
    function toStars(score, max) {
      const ratio = score / max;
      let starsCount;
      if (ratio >= 0.85) {
        starsCount = 5;
      } else if (ratio >= 0.7) {
        starsCount = 4;
      } else if (ratio >= 0.5) {
        starsCount = 3;
      } else if (ratio >= 0.3) {
        starsCount = 2;
      } else {
        starsCount = 1;
      }
      const full = "★★★★★".slice(0, starsCount);
      const empty = "☆☆☆☆☆".slice(0, 5 - starsCount);
      return full + empty;
    }

    function levelComment(score, max) {
      const ratio = score / max;
      if (ratio >= 0.85) return "かなり高め";
      if (ratio >= 0.7) return "高め";
      if (ratio >= 0.5) return "やや高め";   // ← ふつう〜やや高め → やや高め
      if (ratio >= 0.3) return "やや弱め";
      return "弱め・これから伸ばせる";
    }

    // カテゴリ全体コメント
    function buildCategorySummary(norms) {
      const nameMap = {
        selfAxisN: "自己軸",
        empathyN: "共感力",
        distanceN: "距離感",
        communicationN: "コミュ力",
        selfUnderstandingN: "自己理解"
      };

      const entries = Object.entries(norms).sort((a, b) => b[1] - a[1]);
      const top = entries[0];
      const bottom = entries[entries.length - 1];
      const topName = nameMap[top[0]];
      const bottomName = nameMap[bottom[0]];

      return (
        "とくに「" +
        topName +
        "」が強みとして出やすい一方で、「" +
        bottomName +
        "」はこれから意識的に伸ばしていける余白の部分です。強みを活かしながら、弱めのところを少しずつ整えていくと、恋愛全体の手応えが変わっていきます。"
      );
    }

    // 8タイプ判定（カテゴリ比率ベース）
    function decideType(totalScore, norms) {
      const {
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      } = norms;

      const maxNorm = Math.max(
        selfAxisN,
        empathyN,
        distanceN,
        communicationN,
        selfUnderstandingN
      );

      let typeLabel = "";
      let typeMessage = "";

      if (totalScore >= 60) {
        if (
          (empathyN >= 0.7 || distanceN >= 0.7) &&
          empathyN >= distanceN
        ) {
          // ① 安定共感バランス型
          typeLabel = "安定共感バランス型";
          typeMessage =
            "相手の気持ちを丁寧に受け取りながら、自分のペースも大切にできる安定型。関係を急がず育てる力があり、信頼を時間とともに積み重ねていけます。あなたの「落ち着いた安心感」は、相手にとって大きな魅力になります。";
        } else if (selfAxisN === maxNorm) {
          // ④ 主体性アクティブ型（高スコア帯）
          typeLabel = "主体性アクティブ型";
          typeMessage =
            "自分の意思やテンポを持ち、恋愛においても行動力が高いタイプ。決断力があるので関係が進みやすい反面、相手のペースを尊重できるとより相性が安定します。主導権を握りながらも協調できると強い関係を築けます。";
        } else if (communicationN === maxNorm) {
          // ⑦ 情熱ストレート型（高スコア寄り）
          typeLabel = "情熱ストレート型";
          typeMessage =
            "好きになったらまっすぐ向き合いたい、エネルギッシュで誠実なタイプ。気持ちを伝える力が強く、相手にとってわかりやすい魅力があります。少しだけ相手のペースを感じ取れると、よりスムーズな関係になります。";
        } else if (selfUnderstandingN === maxNorm) {
          // ② 内省マイペース型（高スコア寄り）
          typeLabel = "内省マイペース型";
          typeMessage =
            "一度距離を置いてじっくり考えたいタイプ。自分の感情を理解しようとする姿勢が強く、誠実で丁寧な恋愛を好みます。少しだけ“連絡・行動のペース”を共有すると、関係のスムーズさが増していきます。";
        } else {
          // ⑤ 距離感コンフォート型（高スコア寄り）
          typeLabel = "距離感コンフォート型";
          typeMessage =
            "一人の時間を大切にでき、恋愛も落ち着いたペースで育てたいタイプ。近すぎず遠すぎずの絶妙な距離を作るのが上手で、安心できる関係を目指します。「適度な交流＋丁寧なコミュニケーション」でより関係が深まります。";
        }
      } else if (totalScore >= 45) {
        if (selfUnderstandingN === maxNorm) {
          // ⑥ 自己理解クリア型
          typeLabel = "自己理解クリア型";
          typeMessage =
            "自分の感情・価値観に敏感で、「どうしたいか」をはっきり理解できるタイプ。恋愛でも迷いが少なく、誠実で透明度の高い関係を育てられます。相手にその“内面的な明るさ”が自然と伝わり、安心感を生みます。";
        } else if (distanceN === maxNorm) {
          // ⑤ 距離感コンフォート型（中スコア帯）
          typeLabel = "距離感コンフォート型";
          typeMessage =
            "近づきすぎず、離れすぎずの距離を保ちたいタイプ。自分の時間と相手との時間を両方大切にできます。少しだけ自分の本音や弱さを開示していくと、安心感に“深いつながり”が足されていきます。";
        } else if (empathyN === maxNorm && selfAxisN < 0.5) {
          // ③ 共感やさしさ特化型
          typeLabel = "共感やさしさ特化型";
          typeMessage =
            "相手の気持ちに寄り添う力がとても高く、安心感を与えられる存在。ただし自分を後回しにしやすいので、同じくらい“自分の気持ちも大事にする”と恋愛満足度が上がります。やさしさが関係の土台になるタイプです。";
        } else if (communicationN === maxNorm && distanceN < 0.5) {
          // ⑦ 情熱ストレート型（勢い強め）
          typeLabel = "情熱ストレート型";
          typeMessage =
            "気になると一気に距離を縮めたくなる情熱型。相手からすると嬉しい半面、ペースの違いで驚かれることもあります。「相手の反応を半歩だけ待つ」意識を持つと、熱量はそのままに、安心されるアプローチに変えていけます。";
        } else {
          // ゆるバランス系
          typeLabel = "安定共感バランス型";
          typeMessage =
            "大きな偏りはなく、恋愛スタイルとしては“これから整っていく途中”の段階です。どこか1つを極端に変えるより、「自己軸」「共感」「距離感」のうち、気になる1つだけにフォーカスして整えていくと、全体がゆるやかに底上げされていきます。";
        }
      } else if (totalScore >= 30) {
        if (communicationN > 0.6 && distanceN < 0.5) {
          // ⑦ 情熱ストレート型（慎重さ弱め）
          typeLabel = "情熱ストレート型";
          typeMessage =
            "好きになると感情が一気に動きやすく、勢いで進めてしまうことがあるタイプ。熱さは魅力なので消す必要はありませんが、「相手の不安はどこかな？」と一瞬立ち止まって想像してみるだけで、関係の安定感が大きく変わります。";
        } else if (empathyN > 0.6 && selfAxisN < 0.4) {
          // ③ 共感やさしさ特化型（自己犠牲寄り）
          typeLabel = "共感やさしさ特化型";
          typeMessage =
            "相手のことを優先しやすく、自分の気持ちを脇に置きがちなスタイルです。「NOを言っても嫌われない」経験を少しずつ積むと、恋愛が“我慢の場所”から“安心できる場所”に変わっていきます。";
        } else if (distanceN > 0.6) {
          // ⑧ 繊細ていねい慎重型（距離感高め）
          typeLabel = "繊細ていねい慎重型";
          typeMessage =
            "慎重で思慮深く、関係を丁寧に積み重ねたいタイプ。一度信頼が生まれると深い絆を育てられます。ゆっくり進めるスタイルが合うので、焦らず安心できるペースが最も大切です。";
        } else {
          // 恋愛リハビリ中寄り
          typeLabel = "恋愛リハビリ中タイプ";
          typeMessage =
            "これまでの経験や環境の影響で、恋愛に対して少し慎重モードになっている状態かもしれません。いきなり大きな一歩を踏み出すよりも、「安心できる人との小さな経験」を積み重ねていくことで、感覚が少しずつ戻ってきます。";
        }
      } else {
        // 低スコア帯：恋愛リハビリ中・伸びしろタイプ
        typeLabel = "恋愛リハビリ中タイプ";
        typeMessage =
          "今は恋愛に対して自信が持ちづらかったり、動き方がわからなくなっている段階かもしれません。でもこれは“センスがない”ではなく、ただ感覚が眠っているだけ。自分を責めるより、「どこからなら少し動けそうか」を一緒に探していくイメージで向き合うのがおすすめです。";
      }

      return { typeLabel, typeMessage };
    }

    document.getElementById("submitBtn").addEventListener("click", function () {
      const answers = [];
      for (let i = 1; i <= 15; i++) {
        const v = getValue("q" + i);
        if (v === null) {
          alert("まだ答えていない質問があります（" + i + "問目）。");
          return;
        }
        answers[i] = v;
      }

      // トータルスコア（最大75）
      const totalScore = answers.slice(1).reduce((a, b) => a + b, 0);

      // カテゴリ別スコア（事前に共有していた割り当て）
      // 1  communication
      // 2  empathy
      // 3  empathy
      // 4  communication
      // 5  distance
      // 6  self_axis
      // 7  self_understanding
      // 8  empathy
      // 9  distance
      // 10 self_axis
      // 11 self_understanding
      // 12 empathy
      // 13 distance
      // 14 self_axis
      // 15 self_understanding

      const communication = answers[1] + answers[4]; // /10
      const empathy = answers[2] + answers[3] + answers[8] + answers[12]; // /20
      const distance = answers[5] + answers[9] + answers[13]; // /15
      const selfAxis = answers[6] + answers[10] + answers[14]; // /15
      const selfUnderstanding =
        answers[7] + answers[11] + answers[15]; // /15

      const maxComm = 10;
      const maxEmp = 20;
      const maxDist = 15;
      const maxAxis = 15;
      const maxSelfU = 15;

      const norms = {
        selfAxisN: selfAxis / maxAxis,
        empathyN: empathy / maxEmp,
        distanceN: distance / maxDist,
        communicationN: communication / maxComm,
        selfUnderstandingN: selfUnderstanding / maxSelfU
      };

      const { typeLabel, typeMessage } = decideType(totalScore, norms);
      const categorySummary = buildCategorySummary(norms);

      // メインスコア表示（総合）
      document.getElementById("mainScore").innerHTML =
        "💗 あなたの恋愛能力指数<br><span class=\"main-score-number\">" +
        totalScore +
        " / 75</span>";

      // タイプ名表示（タイプ名だけ太字・改行・「：」なし）
      document.getElementById("typeLabel").innerHTML =
        "あなたの恋愛スタイルタイプ<br><span class=\"type-label-name\">" +
        typeLabel +
        "</span>";

      // カテゴリ★表示
      const catLines = [];
      catLines.push(
        "自己軸　：" +
          toStars(selfAxis, maxAxis) +
          "（" +
          levelComment(selfAxis, maxAxis) +
          "）"
      );
      catLines.push(
        "共感力　：" +
          toStars(empathy, maxEmp) +
          "（" +
          levelComment(empathy, maxEmp) +
          "）"
      );
      catLines.push(
        "距離感　：" +
          toStars(distance, maxDist) +
          "（" +
          levelComment(distance, maxDist) +
          "）"
      );
      catLines.push(
        "コミュ力：" +
          toStars(communication, maxComm) +
          "（" +
          levelComment(communication, maxComm) +
          "）"
      );
      catLines.push(
        "自己理解：" +
          toStars(selfUnderstanding, maxSelfU) +
          "（" +
          levelComment(selfUnderstanding, maxSelfU) +
          "）"
      );

      document.getElementById("categoryScores").innerHTML =
        "🌿 カテゴリ別の傾向" + "<br>" + catLines.join("<br>");

      // カテゴリ全体コメント
      document.getElementById("categorySummary").textContent = categorySummary;

      // タイプ本文コメント
      document.getElementById("typeMessage").textContent = typeMessage;

      document.getElementById("result").style.display = "block";
      document
        .getElementById("result")
        .scrollIntoView({ behavior: "smooth" });
    });
  </script>
</body>
</html>
