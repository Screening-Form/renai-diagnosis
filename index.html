<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>あなたの恋愛スタイル診断</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: "Hiragino Sans", "游ゴシック", system-ui, -apple-system,
        BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #ffd3e3;
    }
    .wrapper {
      max-width: 840px;
      margin: 0 auto;
      padding: 32px 16px 64px;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      padding: 24px 24px 32px;
      box-shadow: 0 6px 16px rgba(255, 105, 180, 0.2);
    }
    h1 {
      text-align: center;
      margin: 0 0 16px;
      font-size: 24px;
      letter-spacing: 0.08em;
      color: #ff4b8a;
    }
    .lead {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 24px;
      line-height: 1.6;
    }
    .question {
      margin-bottom: 20px;
      padding: 16px 16px 4px;
      border-radius: 10px;
      background: #fff7fb;
      border: 1px solid #ffd0e6;
    }
    .question-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 14px;
      color: #444;
    }
    .options {
      margin-left: 4px;
    }
    .options label {
      display: block;
      margin-bottom: 4px;
      font-size: 14px;
      cursor: pointer;
    }
    .options input {
      margin-right: 4px;
    }
    .submit-wrap {
      text-align: center;
      margin: 28px 0 8px;
    }
    button#submitBtn {
      background: #ff4b8a;
      color: #fff;
      border: none;
      padding: 10px 32px;
      font-size: 15px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.08em;
      box-shadow: 0 4px 10px rgba(255, 75, 138, 0.4);
    }
    button#submitBtn:hover {
      opacity: 0.9;
      transform: translateY(1px);
    }
    .result-card {
      margin-top: 24px;
      padding: 20px 16px 16px;
      border-radius: 10px;
      background: #fff0f7;
      border: 1px solid #ffc2df;
    }
    .result-title {
      font-weight: 700;
      margin-bottom: 8px;
      color: #ff4b8a;
    }
    .result-main-score {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .type-label {
      font-size: 15px;
      margin-bottom: 8px;
    }
    .category-list {
      margin: 8px 0 10px;
      font-size: 13px;
      line-height: 1.7;
    }
    .result-message {
      font-size: 13px;
      line-height: 1.7;
      margin-top: 4px;
    }
    .note {
      margin-top: 16px;
      font-size: 11px;
      color: #888;
      text-align: center;
      line-height: 1.6;
    }
    @media (max-width: 600px) {
      .card {
        padding: 18px 14px 26px;
      }
      .question {
        padding: 12px 10px 2px;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="card">
      <h1>あなたの恋愛スタイル診断</h1>
      <p class="lead">
        15問に答えると、あなたの恋愛スタイルの傾向とスコアをチェックできます。<br />
        （A〜Eのどれかを1つ選んでください）
      </p>

      <form id="quizForm">
        <!-- Q1 -->
        <div class="question">
          <div class="question-title">
            1. 初対面の異性と話す時、どのくらい自然に話せますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q1" value="5" />ほぼ緊張せず会話できる</label>
            <label><input type="radio" name="q1" value="4" />少し緊張するが普通に話せる</label>
            <label><input type="radio" name="q1" value="3" />会話に困る時がある</label>
            <label><input type="radio" name="q1" value="2" />かなり緊張する</label>
            <label><input type="radio" name="q1" value="1" />会話がうまくできない</label>
          </div>
        </div>

        <!-- Q2 -->
        <div class="question">
          <div class="question-title">
            2. 相手の気持ちや意図を理解しようとする姿勢は？
          </div>
          <div class="options">
            <label><input type="radio" name="q2" value="5" />いつも意識している</label>
            <label><input type="radio" name="q2" value="4" />けっこう意識している</label>
            <label><input type="radio" name="q2" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q2" value="2" />あまり意識しない</label>
            <label><input type="radio" name="q2" value="1" />ほぼ意識しない</label>
          </div>
        </div>

        <!-- Q3 -->
        <div class="question">
          <div class="question-title">
            3. 気持ちや思っていることを、相手にわかるように伝えるのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q3" value="5" />とても得意</label>
            <label><input type="radio" name="q3" value="4" />けっこう得意</label>
            <label><input type="radio" name="q3" value="3" />ときどき難しい</label>
            <label><input type="radio" name="q3" value="2" />あまり得意じゃない</label>
            <label><input type="radio" name="q3" value="1" />かなり苦手</label>
          </div>
        </div>

        <!-- Q4 -->
        <div class="question">
          <div class="question-title">
            4. 恋をすると、あなたは自分のペースを保てますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q4" value="5" />しっかり保てる</label>
            <label><input type="radio" name="q4" value="4" />ほぼ保てる</label>
            <label><input type="radio" name="q4" value="3" />揺らぐことがある</label>
            <label><input type="radio" name="q4" value="2" />相手中心になりすぎることが多い</label>
            <label><input type="radio" name="q4" value="1" />いつも相手に振り回される</label>
          </div>
        </div>

        <!-- Q5 -->
        <div class="question">
          <div class="question-title">
            5. 好きな人との距離感をつかむのは得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q5" value="5" />かなり得意</label>
            <label><input type="radio" name="q5" value="4" />だいたい得意</label>
            <label><input type="radio" name="q5" value="3" />ときどき迷う</label>
            <label><input type="radio" name="q5" value="2" />うまく距離が取れないことが多い</label>
            <label><input type="radio" name="q5" value="1" />ほぼいつも距離感を間違える</label>
          </div>
        </div>

        <!-- Q6 -->
        <div class="question">
          <div class="question-title">
            6. あなたは、相手の本質や性格を見抜くのが得意ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q6" value="5" />かなり得意</label>
            <label><input type="radio" name="q6" value="4" />だいたい合っている</label>
            <label><input type="radio" name="q6" value="3" />まあまあ当たる</label>
            <label><input type="radio" name="q6" value="2" />けっこう間違えることが多い</label>
            <label><input type="radio" name="q6" value="1" />よく見誤る</label>
          </div>
        </div>

        <!-- Q7 -->
        <div class="question">
          <div class="question-title">
            7. 相手に合わせすぎず、自分の意見や希望を言える方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q7" value="5" />しっかり言える</label>
            <label><input type="radio" name="q7" value="4" />だいたい言える</label>
            <label><input type="radio" name="q7" value="3" />ときどき我慢してしまう</label>
            <label><input type="radio" name="q7" value="2" />けっこう言えないことが多い</label>
            <label><input type="radio" name="q7" value="1" />ほとんど言えない</label>
          </div>
        </div>

        <!-- Q8 -->
        <div class="question">
          <div class="question-title">
            8. 相手の気持ちや立場を思いやって行動できる方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q8" value="5" />かなりできる</label>
            <label><input type="radio" name="q8" value="4" />だいたいできる</label>
            <label><input type="radio" name="q8" value="3" />ときどきできる</label>
            <label><input type="radio" name="q8" value="2" />あまりできない</label>
            <label><input type="radio" name="q8" value="1" />ほとんどできない</label>
          </div>
        </div>

        <!-- Q9 -->
        <div class="question">
          <div class="question-title">
            9. 自分の感情や気持ちに、ちゃんと気づける方ですか？
          </div>
          <div class="options">
            <label><input type="radio" name="q9" value="5" />いつも気づける</label>
            <label><input type="radio" name="q9" value="4" />だいたい気づける</label>
            <label><input type="radio" name="q9" value="3" />ときどき混乱する</label>
            <label><input type="radio" name="q9" value="2" />自分の気持ちがよくわからない</label>
            <label><input type="radio" name="q9" value="1" />ほとんど気づけない</label>
          </div>
        </div>

        <!-- Q10 -->
        <div class="question">
          <div class="question-title">
            10. 気になる人に対して、相手のテンポに合わせて進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q10" value="5" />かなり合わせられる</label>
            <label><input type="radio" name="q10" value="4" />だいたい合わせられる</label>
            <label><input type="radio" name="q10" value="3" />たまにズレる</label>
            <label><input type="radio" name="q10" value="2" />けっこうズレる</label>
            <label><input type="radio" name="q10" value="1" />ほぼズレっぱなし</label>
          </div>
        </div>

        <!-- Q11 -->
        <div class="question">
          <div class="question-title">
            11. 恋愛で期待しすぎず、現実的に相手を見ることができますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q11" value="5" />かなりできる</label>
            <label><input type="radio" name="q11" value="4" />だいたいできる</label>
            <label><input type="radio" name="q11" value="3" />ときどき理想化する</label>
            <label><input type="radio" name="q11" value="2" />理想を投影してしまう</label>
            <label><input type="radio" name="q11" value="1" />ほぼ現実が見えない</label>
          </div>
        </div>

        <!-- Q12 -->
        <div class="question">
          <div class="question-title">
            12. 親しい関係になっても、ひとりの時間を大切にできますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q12" value="5" />しっかりできる</label>
            <label><input type="radio" name="q12" value="4" />だいたいできる</label>
            <label><input type="radio" name="q12" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q12" value="2" />ひとりでいるのが不安</label>
            <label><input type="radio" name="q12" value="1" />いつも相手と一緒にいたい</label>
          </div>
        </div>

        <!-- Q13 -->
        <div class="question">
          <div class="question-title">
            13. 恋愛の失敗や経験から学びを活かせていますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q13" value="5" />かなり活かせている</label>
            <label><input type="radio" name="q13" value="4" />だいたい活かせている</label>
            <label><input type="radio" name="q13" value="3" />たまに活かす</label>
            <label><input type="radio" name="q13" value="2" />あまり活かせていない</label>
            <label><input type="radio" name="q13" value="1" />ほぼ同じ失敗を繰り返す</label>
          </div>
        </div>

        <!-- Q14 -->
        <div class="question">
          <div class="question-title">
            14. 相手に合わせるだけでなく、関係を一緒に作る意識はありますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q14" value="5" />強くある</label>
            <label><input type="radio" name="q14" value="4" />けっこうある</label>
            <label><input type="radio" name="q14" value="3" />どちらともいえない</label>
            <label><input type="radio" name="q14" value="2" />あまりない</label>
            <label><input type="radio" name="q14" value="1" />相手任せになりがち</label>
          </div>
        </div>

        <!-- Q15 -->
        <div class="question">
          <div class="question-title">
            15. 信頼関係ができるまで、焦らずゆっくり進められますか？
          </div>
          <div class="options">
            <label><input type="radio" name="q15" value="5" />とてもできる</label>
            <label><input type="radio" name="q15" value="4" />だいたいできる</label>
            <label><input type="radio" name="q15" value="3" />ときどき焦る</label>
            <label><input type="radio" name="q15" value="2" />けっこう焦る</label>
            <label><input type="radio" name="q15" value="1" />いつも急ぎがち</label>
          </div>
        </div>

        <div class="submit-wrap">
          <button type="button" id="submitBtn">結果を見る</button>
        </div>
      </form>

      <div id="result" class="result-card" style="display:none;">
        <div class="result-title">診断結果</div>
        <div class="result-main-score" id="mainScore"></div>
        <div class="type-label" id="typeLabel"></div>
        <div class="category-list" id="categoryScores"></div>
        <div class="result-message" id="typeMessage"></div>
      </div>

      <p class="note">
        ※この診断はあくまでセルフチェック用の簡易ツールです。<br />
        結果を絶対視せず、自分を見つめ直すきっかけとしてご利用ください。
      </p>
    </div>
  </div>

  <script>
    // ラジオ値取得
    function getValue(name) {
      const checked = document.querySelector('input[name="' + name + '"]:checked');
      return checked ? Number(checked.value) : null;
    }

    // スコア → ★とテキスト
    function scoreToStars(score, max) {
      const ratio = score / max;
      let stars, label;

      if (ratio >= 0.9) {
        stars = "★★★★★";
        label = "（かなり高め）";
      } else if (ratio >= 0.75) {
        stars = "★★★★☆";
        label = "（高め）";
      } else if (ratio >= 0.6) {
        stars = "★★★☆☆";
        label = "（ふつう〜やや高め）";
      } else if (ratio >= 0.45) {
        stars = "★★☆☆☆";
        label = "（やや低め）";
      } else {
        stars = "★☆☆☆☆";
        label = "（低め）";
      }
      return { stars, label };
    }

    // 8タイプ定義
    const TYPE_DEFS = [
      {
        key: 1,
        name: "安定共感バランス型",
        message:
          "相手の気持ちを受け取りつつ、自分のペースも大事にできる安定感のあるタイプです。信頼関係をじっくり育てていくのが得意。ときどき自分の本音を言葉にしてシェアしていくと、さらに関係が深まりやすくなります。"
      },
      {
        key: 2,
        name: "内省マイペース型",
        message:
          "自分の心の動きに敏感で、恋愛でもじっくり考えながら関係を育てていくタイプです。焦るよりも、納得感を大事にしたい人。ときどき相手の世界にも一歩踏み出してみると、チャンスが広がります。"
      },
      {
        key: 3,
        name: "共感サポーター型",
        message:
          "相手の感情をキャッチする力が高く、寄り添うコミュニケーションが得意なタイプです。その一方で、自分の希望を後回しにしがちかも。「本当はどうしたいか？」を確認して、言葉にしていくことが次のステップです。"
      },
      {
        key: 4,
        name: "距離感しっかり安心型",
        message:
          "相手との距離感や境界線を大切にできるタイプです。依存しすぎず、落ち着いた関係を作りやすい人。ただ、慎重になりすぎるとチャンスを逃しがちなので、安心できる範囲で少しだけスピードを上げてみるのも◎。"
      },
      {
        key: 5,
        name: "自分磨き研究家タイプ",
        message:
          "これまでの経験から多くを学び取ろうとする、成長志向の強いタイプです。自分のクセやパターンを言語化すると、一気に恋愛の再現性が上がります。信頼できる人に相談しながら、実験するつもりで一歩ずつ試してみてください。"
      },
      {
        key: 6,
        name: "成長途中の実直タイプ",
        message:
          "基本はとても誠実で、相手を大事にしたい気持ちが強いタイプです。ただ状況によってはブレたり、我慢しすぎることも。どこで無理しているのかを知ることで、もっとラクに恋愛を楽しめるようになっていきます。"
      },
      {
        key: 7,
        name: "恋愛チャレンジ準備中タイプ",
        message:
          "まだ恋愛の場数は少ないか、過去の経験から慎重になっている段階かもしれません。いきなり完璧を目指すより、「軽めの練習試合」くらいのつもりで関わりを増やすと◎。小さな成功体験を積むほど、自信が育っていきます。"
      },
      {
        key: 8,
        name: "回復リスタートタイプ",
        message:
          "これまでの恋愛で傷ついたり、自信を失った時期を経ている可能性があります。まずは自分を責めるのをやめて、心と体を整えることが最優先。安心できる人間関係や好きなことにエネルギーを注ぐことで、自然と次の恋の準備が整っていきます。"
      }
    ];

    document.getElementById("submitBtn").addEventListener("click", function () {
      const answers = [];
      for (let i = 1; i <= 15; i++) {
        const v = getValue("q" + i);
        if (v === null) {
          alert("まだ答えていない質問があります（" + i + "問目）。");
          return;
        }
        answers[i] = v;
      }

      // トータルスコア（最大75）
      const totalScore = answers.slice(1).reduce((a, b) => a + b, 0);

      // カテゴリ別スコア
      // 自己軸：Q4,7,9,15（/20）
      const selfAxis = answers[4] + answers[7] + answers[9] + answers[15];

      // 共感力：Q2,8,10,14（/20）
      const empathy = answers[2] + answers[8] + answers[10] + answers[14];

      // 距離感調整：Q5,11,12（/15）
      const distance = answers[5] + answers[11] + answers[12];

      // コミュ力：Q1,3（/10）
      const communication = answers[1] + answers[3];

      // 自己理解：Q6,13（/10）
      const selfUnderstanding = answers[6] + answers[13];

      // レベル判定
      let level;
      if (totalScore >= 63) {
        level = "veryHigh";
      } else if (totalScore >= 53) {
        level = "high";
      } else if (totalScore >= 43) {
        level = "middle";
      } else if (totalScore >= 33) {
        level = "lowMid";
      } else {
        level = "low";
      }

      // メインカテゴリ
      const catScores = {
        selfAxis,
        empathy,
        distance,
        communication,
        selfUnderstanding
      };
      const catMax = { selfAxis: 20, empathy: 20, distance: 15, communication: 10, selfUnderstanding: 10 };

      const catNames = Object.keys(catScores);
      let mainCat = catNames[0];
      let maxVal = catScores[mainCat];
      catNames.forEach((k) => {
        if (catScores[k] > maxVal) {
          maxVal = catScores[k];
          mainCat = k;
        }
      });

      // バランス判定（全部0.6以上ならバランス型）
      const ratios = catNames.map((k) => catScores[k] / catMax[k]);
      const isBalanced = Math.min.apply(null, ratios) >= 0.6;

      // タイプ選択（8パターンにマッピング）
      let selectedTypeKey;
      if (level === "veryHigh" && isBalanced) {
        selectedTypeKey = 1; // 安定共感バランス型
      } else if ((level === "veryHigh" || level === "high") && mainCat === "selfAxis") {
        selectedTypeKey = 2; // 内省マイペース型
      } else if ((level === "veryHigh" || level === "high") && (mainCat === "empathy" || mainCat === "communication")) {
        selectedTypeKey = 3; // 共感サポーター型
      } else if ((level === "high" || level === "middle") && mainCat === "distance") {
        selectedTypeKey = 4; // 距離感しっかり安心型
      } else if (level === "middle" && mainCat === "selfUnderstanding") {
        selectedTypeKey = 5; // 自分磨き研究家タイプ
      } else if (level === "middle") {
        selectedTypeKey = 6; // 成長途中の実直タイプ
      } else if (level === "lowMid") {
        selectedTypeKey = 7; // 恋愛チャレンジ準備中タイプ
      } else {
        selectedTypeKey = 8; // 回復リスタートタイプ
      }

      const typeDef = TYPE_DEFS.find((t) => t.key === selectedTypeKey);

      // ★表示用
      const selfAxisStar = scoreToStars(selfAxis, 20);
      const empathyStar = scoreToStars(empathy, 20);
      const distanceStar = scoreToStars(distance, 15);
      const communicationStar = scoreToStars(communication, 10);
      const selfUnderstandingStar = scoreToStars(selfUnderstanding, 10);

      // 画面に反映
      document.getElementById("mainScore").textContent =
        "💗 あなたの恋愛能力指数：" + totalScore + " / 75";

      document.getElementById("typeLabel").textContent =
        "あなたの恋愛スタイルタイプ：" + typeDef.name;

      document.getElementById("categoryScores").innerHTML =
        "🌿 カテゴリ別の傾向" +
        "<br>自己軸　：" + selfAxisStar.stars + "　" + selfAxisStar.label +
        "<br>共感力　：" + empathyStar.stars + "　" + empathyStar.label +
        "<br>距離感　：" + distanceStar.stars + "　" + distanceStar.label +
        "<br>コミュ力：" + communicationStar.stars + "　" + communicationStar.label +
        "<br>自己理解：" + selfUnderstandingStar.stars + "　" + selfUnderstandingStar.label;

      document.getElementById("typeMessage").textContent = typeDef.message;
      document.getElementById("result").style.display = "block";
      document.getElementById("result").scrollIntoView({ behavior: "smooth" });
    });
  </script>
</body>
</html>
